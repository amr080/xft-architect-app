"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[882],{11460:(e,n,t)=>{t.d(n,{Z:()=>i});var r,a=t(2784);function l(){return(l=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)({}).hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e}).apply(null,arguments)}let i=function(e){return a.createElement("svg",l({xmlns:"http://www.w3.org/2000/svg",fill:"#FFF",viewBox:"0 0 20 20"},e),r||(r=a.createElement("path",{fillRule:"evenodd",d:"M.832 10c0-3.11 0-4.665.578-5.864A5.83 5.83 0 0 1 4.134 1.41C5.334.833 6.89.833 10 .833s4.665 0 5.864.578a5.83 5.83 0 0 1 2.725 2.725c.577 1.2.577 2.754.577 5.864s0 4.665-.577 5.865a5.83 5.83 0 0 1-2.725 2.724c-1.2.578-2.754.578-5.864.578s-4.665 0-5.865-.578a5.83 5.83 0 0 1-2.724-2.724C.832 14.665.832 13.11.832 10m8.333 2.5a1.667 1.667 0 0 1-3.333 0v-5a1.667 1.667 0 0 1 3.333 0zm3.334 1.667c.92 0 1.666-.746 1.666-1.667v-5a1.667 1.667 0 0 0-3.333 0v5c0 .92.746 1.667 1.667 1.667",clipRule:"evenodd"})))}},12591:(e,n,t)=>{t.d(n,{Z:()=>i});var r,a=t(2784);function l(){return(l=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)({}).hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e}).apply(null,arguments)}let i=function(e){return a.createElement("svg",l({xmlns:"http://www.w3.org/2000/svg",fill:"#FFF",viewBox:"0 0 20 20"},e),r||(r=a.createElement("path",{fillRule:"evenodd",d:"M1.41 4.136C.832 5.336.832 6.89.832 10s0 4.665.578 5.865a5.83 5.83 0 0 0 2.724 2.724c1.2.578 2.755.578 5.865.578s4.665 0 5.864-.578a5.83 5.83 0 0 0 2.725-2.724c.577-1.2.577-2.755.577-5.865s0-4.665-.577-5.864a5.83 5.83 0 0 0-2.725-2.725c-1.2-.578-2.754-.578-5.864-.578s-4.665 0-5.865.578A5.83 5.83 0 0 0 1.41 4.136M9.22 6.09c-1.125-.675-2.556.135-2.556 1.447v4.926c0 1.312 1.431 2.122 2.556 1.447l4.105-2.463a1.688 1.688 0 0 0 0-2.894z",clipRule:"evenodd"})))}},99128:(e,n,t)=>{t.d(n,{Z:()=>i});var r,a=t(2784);function l(){return(l=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)({}).hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e}).apply(null,arguments)}let i=function(e){return a.createElement("svg",l({xmlns:"http://www.w3.org/2000/svg",fill:"#FFF",viewBox:"0 0 20 20"},e),r||(r=a.createElement("path",{fillRule:"evenodd",d:"M.832 10c0-3.11 0-4.665.578-5.864A5.83 5.83 0 0 1 4.134 1.41C5.334.833 6.89.833 10 .833s4.665 0 5.864.578a5.83 5.83 0 0 1 2.725 2.725c.577 1.2.577 2.754.577 5.864s0 4.665-.577 5.865a5.83 5.83 0 0 1-2.725 2.724c-1.2.578-2.754.578-5.864.578s-4.665 0-5.865-.578a5.83 5.83 0 0 1-2.724-2.724C.832 14.665.832 13.11.832 10m13.333 4.167V5.834H5.832v8.333z",clipRule:"evenodd"})))}},35958:(e,n,t)=>{t.d(n,{E:()=>L});var r=t(52322),a=t(53368),l=t(92552),i=t(30813),o=t(99810),s=t(95211),c=t(37288),d=t(27197),u=t(75262),m=t(45941),h=t(75084),x=t(25978),g=t(71781),v=t(13731),f=t(30872),p=t(94852),j=t(64977),y=t(60607),S=t(38352),b=t(31490),C=t(50060),k=t(3833),A=t(76541),T=t(2784),w=t(18321),M=t(89364);let z=(0,l.z)(i.Kq,{overflow:"hidden",flexGrow:1,flexShrink:0,flexBasis:1,variants:{flexSize:{":number":e=>({flexGrow:e,flexShrink:0,flexBasis:e})}}}),P=(0,T.memo)(function(e){let n,t,l,o,s,d,u,m,g;let v=(0,a.c)(27),{showVenue:f,marketId:p}=e,S=(0,j.m8)(),T=(0,y.DL)(S,p),P=(0,C.J)(p);v[0]!==P?(n=A.H.getChange(P),v[0]=P,v[1]=n):n=v[1];let{change:F}=n,L=(0,k.yu)(T.venue.name),{id:I,isFavorite:O}=T;v[2]!==T?(t=(0,r.jsx)(z,{flexSize:2,children:(0,r.jsx)(M.k,{...T})}),v[2]=T,v[3]=t):t=v[3];let $=null==P?void 0:P.lastPrice;return v[4]!==T||v[5]!==$?(l=(0,r.jsx)(z,{alignItems:"flex-end",children:(0,r.jsx)(b.Z,{market:T,value:$,weight:"medium",size:"l"})}),v[4]=T,v[5]=$,v[6]=l):l=v[6],v[7]!==F?(o=(0,r.jsx)(z,{alignItems:"flex-end",children:null==F?(0,r.jsx)(x.x,{weight:"medium",size:"l",children:"--"}):(0,r.jsx)(x.x,{weight:"medium",size:"l",color:F&&F>=0?"$textGreen":"$textRed",children:"".concat(F&&F>=0?"+":"").concat(F&&F.toFixed(2),"%")})}),v[7]=F,v[8]=o):o=v[8],v[9]!==P?(s=A.H.formattedVolume(null==P?void 0:P.volume24h),v[9]=P,v[10]=s):s=v[10],v[11]!==s?(d=(0,r.jsx)(z,{alignItems:"flex-end",children:(0,r.jsx)(x.x,{weight:"medium",size:"l",children:s})}),v[11]=s,v[12]=d):d=v[12],v[13]!==f||v[14]!==L||v[15]!==T?(u=f&&(0,r.jsx)(z,{flexSize:1.5,children:(0,r.jsxs)(c.sL,{gap:"$2",alignItems:"flex-end",children:[L&&(0,r.jsx)(h.n,{size:15,color:"$textDefault",children:L}),(0,r.jsx)(x.x,{weight:"medium",size:"l",numberOfLines:1,children:T.venue.name})]})}),v[13]=f,v[14]=L,v[15]=T,v[16]=u):u=v[16],v[17]!==I||v[18]!==O?(m=(0,r.jsx)(i.Kq,{width:30,alignItems:"flex-end",children:(0,r.jsx)(w.f,{id:I,isFavorite:O})}),v[17]=I,v[18]=O,v[19]=m):m=v[19],v[20]!==t||v[21]!==l||v[22]!==o||v[23]!==d||v[24]!==u||v[25]!==m?(g=(0,r.jsxs)(c.sL,{flex:1,alignItems:"center",gap:"$2",children:[t,l,o,d,u,m]}),v[20]=t,v[21]=l,v[22]=o,v[23]=d,v[24]=u,v[25]=m,v[26]=g):g=v[26],g}),F=(0,l.z)(i.Kq,{overflow:"hidden",flexGrow:1,flexShrink:0,flexBasis:1,variants:{flexSize:{":number":e=>({flexGrow:e,flexShrink:0,flexBasis:e})}}}),L=e=>{let n,t,l,i,d,g,v,p,b,C,w,M,z,F,L,O,$,_,D;let H=(0,a.c)(48);H[0]!==e?({selected:t,showVenue:d,filterVenue:n,onChange:l,...i}=e,H[0]=e,H[1]=n,H[2]=t,H[3]=l,H[4]=i,H[5]=d):(n=H[1],t=H[2],l=H[3],i=H[4],d=H[5]);let E=(0,j.m8)(),[R,Q]=(0,T.useState)(""),[B,V]=(0,T.useState)(o.$L),q=(0,s.nj)(R,500),N=B?void 0:null==n?void 0:n.name;H[6]!==N?(g={venueName:N,sortByVolumeDesc:!0,allowFetchAll:!0},H[6]=N,H[7]=g):g=H[7];let{markets:G,loading:W}=(0,S.i)(g);H[8]!==G?(v=void 0===G?[]:G,H[8]=G,H[9]=v):v=H[9];let U=v;H[10]!==t.venue.name?(p=(0,k.yu)(t.venue.name),H[10]=t.venue.name,H[11]=p):p=H[11];let Z=p;H[12]!==t?(b=A.H.getIcons(t),H[12]=t,H[13]=b):b=H[13];let J=b;H[14]!==q||H[15]!==U?(w=q?A.H.fuzzySearchMarket(U,q):U,H[14]=q,H[15]=U,H[16]=w):w=H[16];let K=w;if(H[17]!==K){let e;H[19]===Symbol.for("react.memo_cache_sentinel")?(e=e=>{let{id:n}=e;return{id:n,label:n}},H[19]=e):e=H[19],M=K.slice(0,10).map(e),H[17]=K,H[18]=M}else M=H[18];C=M,H[20]===Symbol.for("react.memo_cache_sentinel")?(z=e=>{let{id:n}=e;return(0,r.jsx)(P,{showVenue:!0,marketId:n},n)},H[20]=z):z=H[20];let Y=z;H[21]!==E||H[22]!==l?(F=e=>{let n=(0,y.DL)(E,e);l(n)},H[21]=E,H[22]=l,H[23]=F):F=H[23];let X=F;if(H[24]!==J||H[25]!==i){var ee;L=J&&(0,r.jsx)(u.J,{size:20,src:J,borderColor:null!==(ee=i.backgroundColor)&&void 0!==ee?ee:"$surfaceGrayBackground",horizontal:!0}),H[24]=J,H[25]=i,H[26]=L}else L=H[26];H[27]!==d||H[28]!==Z||H[29]!==t?(O=d&&Z?(0,r.jsxs)(c.sL,{alignItems:"center",gap:"$2",children:[(0,r.jsx)(m.o,{}),(0,r.jsx)(h.n,{color:"$textSubdued",size:15,children:Z}),(0,r.jsx)(x.x,{color:"$textSubdued",weight:"medium",children:t.venue.name})]}):null,H[27]=d,H[28]=Z,H[29]=t,H[30]=O):O=H[30];let en=(null==C?void 0:C.length)>0;H[31]!==en||H[32]!==W||H[33]!==n||H[34]!==R||H[35]!==B?($=(0,r.jsx)(I,{haveResults:en,loading:W,filterVenue:n,searchInput:R,setSearchInput:Q,allVenues:B,setAllVenues:V}),H[31]=en,H[32]=W,H[33]=n,H[34]=R,H[35]=B,H[36]=$):$=H[36],H[37]!==t?(_=A.H.getFormattedName(t),H[37]=t,H[38]=_):_=H[38];let et=o.$L?void 0:null==n?void 0:n.name;return H[39]!==C||H[40]!==L||H[41]!==O||H[42]!==$||H[43]!==_||H[44]!==X||H[45]!==et||H[46]!==i?(D=(0,r.jsx)(f.P,{options:C,startAdornment:L,endAdornment:O,startContent:$,value:_,onChange:X,renderItem:Y,placeholder:et,minWidth:o.$L?700:void 0,rounded:!0,...i}),H[39]=C,H[40]=L,H[41]=O,H[42]=$,H[43]=_,H[44]=X,H[45]=et,H[46]=i,H[47]=D):D=H[47],D},I=(0,T.memo)(function(e){let n,t,l,s,u,m,f;let j=(0,a.c)(19),{haveResults:y,loading:S,filterVenue:b,searchInput:C,setSearchInput:k,allVenues:A,setAllVenues:T}=e;return j[0]!==b||j[1]!==A||j[2]!==T?(n=b&&o.$L?(0,r.jsx)(g.N,{value:A?"all":b.id,onChange:e=>T("all"===e),options:[{id:b.id,label:b.name},{id:"all",label:"All Venues"}]}):(0,r.jsx)(i.G7,{}),j[0]=b,j[1]=A,j[2]=T,j[3]=n):n=j[3],j[4]===Symbol.for("react.memo_cache_sentinel")?(t={flex:o.$L?"unset":1,borderRadius:32,paddingHorizontal:"$3"},j[4]=t):t=j[4],j[5]===Symbol.for("react.memo_cache_sentinel")?(l=(0,r.jsx)(h.n,{size:16,children:(0,r.jsx)(p.Z,{})}),j[5]=l):l=j[5],j[6]!==C||j[7]!==k?(s=(0,r.jsx)(v.II,{value:C,onChangeText:k,containerProps:t,startAdornment:l,placeholder:"Search..."}),j[6]=C,j[7]=k,j[8]=s):s=j[8],j[9]!==n||j[10]!==s?(u=(0,r.jsxs)(c.sL,{justifyContent:"space-between",children:[n,s]}),j[9]=n,j[10]=s,j[11]=u):u=j[11],j[12]!==y||j[13]!==S||j[14]!==C?(m=y?o.$L?(0,r.jsx)(O,{showVenue:!0}):null:(0,r.jsx)(c.sL,{justifyContent:"center",paddingVertical:"$6",borderColor:"$borderDefault",borderWidth:1,borderStyle:"dashed",borderRadius:8,children:S?(0,r.jsx)(d.$,{color:"$actionBlueDarkDefault"}):C?(0,r.jsx)(x.x,{color:"$textSubdued",children:"No results"}):(0,r.jsx)(x.x,{color:"$textSubdued",children:"Use search bar to search for markets"})}),j[12]=y,j[13]=S,j[14]=C,j[15]=m):m=j[15],j[16]!==u||j[17]!==m?(f=(0,r.jsxs)(i.Kq,{paddingHorizontal:o.$L?"$4":0,paddingBottom:"$2",gap:"$4",children:[u,m]}),j[16]=u,j[17]=m,j[18]=f):f=j[18],f}),O=(0,T.memo)(function(e){let n,t,l,o,s,d,u;let m=(0,a.c)(9),{showVenue:h}=e;return m[0]===Symbol.for("react.memo_cache_sentinel")?(n=(0,r.jsx)(F,{flexSize:2,children:(0,r.jsx)(x.x,{size:"xs",color:"$textSubdued",children:"Product"})}),m[0]=n):n=m[0],m[1]===Symbol.for("react.memo_cache_sentinel")?(t=(0,r.jsx)(F,{alignItems:"flex-end",children:(0,r.jsx)(x.x,{size:"xs",color:"$textSubdued",children:"Price"})}),m[1]=t):t=m[1],m[2]===Symbol.for("react.memo_cache_sentinel")?(l=(0,r.jsx)(F,{alignItems:"flex-end",children:(0,r.jsx)(x.x,{size:"xs",color:"$textSubdued",children:"Change 24hr"})}),m[2]=l):l=m[2],m[3]===Symbol.for("react.memo_cache_sentinel")?(o=(0,r.jsx)(F,{alignItems:"flex-end",children:(0,r.jsx)(x.x,{size:"xs",color:"$textSubdued",children:"Volume"})}),m[3]=o):o=m[3],m[4]!==h?(s=h&&(0,r.jsx)(F,{flexSize:1.5,alignItems:"flex-end",children:(0,r.jsx)(x.x,{size:"xs",color:"$textSubdued",children:"Venue"})}),m[4]=h,m[5]=s):s=m[5],m[6]===Symbol.for("react.memo_cache_sentinel")?(d=(0,r.jsx)(i.Kq,{width:30}),m[6]=d):d=m[6],m[7]!==s?(u=(0,r.jsxs)(c.sL,{alignItems:"center",gap:"$2",children:[n,t,l,o,s,d]}),m[7]=s,m[8]=u):u=m[8],u})},96310:(e,n,t)=>{t.d(n,{m:()=>u});var r=t(52322),a=t(53368),l=t(92552),i=t(37288),o=t(25978),s=t(979),c=t(2784);let d=(0,l.z)(i.sL,{gap:"$5",zIndex:1,variants:{advanced:{true:{backgroundColor:"$surfaceGrayCard",paddingHorizontal:"$4",paddingVertical:"$4",borderWidth:1,borderColor:"$borderDefault"},false:{paddingBottom:"$5"}}}});function u(e){let n,t,l,i,u;let m=(0,a.c)(12);m[0]!==e?({header:n,endAdornment:l,...t}=e,m[0]=e,m[1]=n,m[2]=t,m[3]=l):(n=m[1],t=m[2],l=m[3]);let{advancedMode:h}=(0,c.useContext)(s.n),x=h?"$textDefault":"$textLight";return m[4]!==x||m[5]!==n?(i=(0,r.jsx)(o.x,{size:"xxxl",weight:"medium",color:x,marginRight:"$10",children:n}),m[4]=x,m[5]=n,m[6]=i):i=m[6],m[7]!==h||m[8]!==t||m[9]!==i||m[10]!==l?(u=(0,r.jsxs)(d,{advanced:h,...t,children:[i,l]}),m[7]=h,m[8]=t,m[9]=i,m[10]=l,m[11]=u):u=m[11],u}},43363:(e,n,t)=>{t.d(n,{b:()=>l,n:()=>a});var r=t(3994);let a=(0,r.B)("\n  mutation CreateTwapAlgo($twapAlgo: CreateTwapAlgo!) {\n    createTwapAlgo(twapAlgo: $twapAlgo)\n  }\n"),l=(0,r.B)("\n  mutation CreatePovAlgo($povAlgo: CreatePovAlgo!) {\n    createPovAlgo(povAlgo: $povAlgo)\n  }\n")},7837:(e,n,t)=>{t.d(n,{l:()=>r});let r=(0,t(3994).B)("\n  query GetHistoricalCandles(\n    $id: MarketId!\n    $start: DateTime!\n    $end: DateTime!\n    $width: CandleWidth!\n  ) {\n    historicalCandles(id: $id, start: $start, end: $end, width: $width) {\n      time\n      open\n      high\n      low\n      close\n      volume\n    }\n  }\n")},94884:(e,n,t)=>{t.d(n,{m:()=>o});var r=t(53368),a=t(2784),l=t(25983),i=t(38352);let o=()=>{let e,n,t,o;let s=(0,r.c)(9),c=(0,l.P)();s[0]!==c?(e=c?{sortByVolumeDesc:!0,maxResults:1,venueName:"CME"}:{sortByVolumeDesc:!0,maxResults:1,baseName:"BTC Crypto",quoteName:"USD"},s[0]=c,s[1]=e):e=s[1];let d=e,{markets:u}=(0,i.i)(d),[m,h]=(0,a.useState)();s[2]!==u?(n=()=>{if(u){var e;return null===(e=u[0])||void 0===e?void 0:e.id}},s[2]=u,s[3]=n):n=s[3];let x=n;return s[4]!==x?(t=()=>{h(x())},s[4]=x,s[5]=t):t=s[5],s[6]!==x||s[7]!==u?(o=[x,u],s[6]=x,s[7]=u,s[8]=o):o=s[8],(0,a.useEffect)(t,o),m}},63578:(e,n,t)=>{t.d(n,{A:()=>i});var r=t(53368),a=t(85697),l=t(24015);let i=e=>{let n,t;let i=(0,r.c)(5);i[0]!==e?(n={id:e},i[0]=e,i[1]=n):n=i[1];let o=void 0==e;i[2]!==n||i[3]!==o?(t={variables:n,fetchPolicy:"cache-first",skip:o},i[2]=n,i[3]=o,i[4]=t):t=i[4];let s=(0,a.a)(l.JV,t);return s.data?s.data.market:null}},50060:(e,n,t)=>{t.d(n,{J:()=>s});var r=t(53368),a=t(64977),l=t(60607),i=t(2784),o=t(63578);let s=e=>{let n,t,s,c;let d=(0,r.c)(12),u=(0,o.A)(e),m=(0,a.m8)();d[0]!==e||d[1]!==m?(n=()=>e?(0,l.ul)(m,e):void 0,d[0]=e,d[1]=m,d[2]=n):n=d[2];let[h,x]=(0,i.useState)(n),{observable:g}=(0,l.A_)(),v=(0,i.useRef)(h);d[3]!==e||d[4]!==g||d[5]!==m?(t=()=>{if(!e)return;let n=g.subscribe(()=>{let n=(0,l.ul)(m,e);v.current!==n&&(v.current=n,x(n))});return()=>{n.unsubscribe()}},s=[e,g,m],d[3]=e,d[4]=g,d[5]=m,d[6]=t,d[7]=s):(t=d[6],s=d[7]),(0,i.useEffect)(t,s);e:{let n;if(!e||!u){c=void 0;break e}d[8]!==e||d[9]!==u||d[10]!==h?(n={marketId:e,market:u,...h},d[8]=e,d[9]=u,d[10]=h,d[11]=n):n=d[11],c=n}return c}},79302:(e,n,t)=>{t.d(n,{p:()=>j,Z:()=>f});var r=t(52322),a=t(53368),l=t(85697),i=t(37288),o=t(30813),s=t(23998),c=t(6460),d=t(26197),u=t(81494),m=t(51837),h=t(59525),x=t(77271);let g=(0,t(3994).B)("\n  query Algos {\n    algoStatus {\n      __typename\n      orderId\n      order {\n        __typename\n        algo\n      }\n      creationTime\n      status\n      fractionComplete\n    }\n  }\n");var v=t(99539);function f(e){let n,t,l,o,m,h,g,f;let p=(0,a.c)(25),{onAlgoTypeChange:y}=e,{gap:S,margin:b}=(0,c.G)();p[0]===Symbol.for("react.memo_cache_sentinel")?(n={initial:v.wn.All,parse:v.Xf},p[0]=n):n=p[0];let[C,k]=(0,v.Ao)("filter",n);p[1]===Symbol.for("react.memo_cache_sentinel")?(t={initial:!1,parse:e=>!!e&&"false"!==e},p[1]=t):t=p[1];let[A,T]=(0,v.Ao)("create",t);p[2]!==T||p[3]!==A?(l=()=>T(!A),p[2]=T,p[3]=A,p[4]=l):l=p[4];let w=l;return p[5]!==C||p[6]!==k||p[7]!==A||p[8]!==T?(o=(0,r.jsx)(x.Y,{filter:C,setFilter:k,createNew:A,toggleCreate:T}),p[5]=C,p[6]=k,p[7]=A,p[8]=T,p[9]=o):o=p[9],p[10]!==C||p[11]!==w?(m=(0,r.jsx)(j,{filter:C,onCreate:w}),p[10]=C,p[11]=w,p[12]=m):m=p[12],p[13]!==o||p[14]!==m?(h=(0,r.jsxs)(s.q,{gap:"$4",flex:1,children:[o,m]}),p[13]=o,p[14]=m,p[15]=h):h=p[15],p[16]!==A||p[17]!==w||p[18]!==y?(g=(0,r.jsx)(u.o,{open:A,onClose:w,initialAlgo:d.SH.TWAP,onAlgoTypeChange:y}),p[16]=A,p[17]=w,p[18]=y,p[19]=g):g=p[19],p[20]!==S||p[21]!==b||p[22]!==h||p[23]!==g?(f=(0,r.jsxs)(i.sL,{gap:S,margin:b,children:[h,g]}),p[20]=S,p[21]=b,p[22]=h,p[23]=g,p[24]=f):f=p[24],f}let p=[{id:"type",header:"Type",render(e){var n,t;return(0,r.jsx)(m.QB,{name:null!==(t=null===(n=e.order)||void 0===n?void 0:n.algo)&&void 0!==t?t:""})}},{id:"time",header:"Time",sortable:!0,render(e){let{creationTime:n}=e;return(0,r.jsx)(m.sP,{time:n})},getSortableValue:e=>{let{creationTime:n}=e;return new Date(n).getTime()}},{id:"id",header:"ID",render:e=>(0,r.jsx)(m.QB,{name:e.orderId})},{id:"progress",header:"Progress",render(e){let{fractionComplete:n}=e;return(0,r.jsx)(o.G7,{paddingRight:50,children:(0,r.jsx)(m.nE,{label:"",value:null!=n?n:0})})}},{id:"status",header:"Status",render(e){let{status:n}=e;return(0,r.jsx)(m.gE,{status:n})}},{id:"action",header:"Action",align:"right",render(e){let{expandedId:n,onExpandPress:t,orderId:a,status:l}=e,i=n===a;return(0,r.jsx)(m.wc,{status:l,orderId:a,isExpanded:i,onExpand:()=>null==t?void 0:t(i?null:a)})}}],j=e=>{let n,t;let i=(0,a.c)(7),{filter:o,onCreate:s}=e,c=void 0===o?v.wn.All:o;i[0]===Symbol.for("react.memo_cache_sentinel")?(n={errorPolicy:"all",pollInterval:2e3},i[0]=n):n=i[0];let{data:d,error:u,refetch:m}=(0,l.a)(g,n),x=null==d?void 0:d.algoStatus;return i[1]!==x||i[2]!==u||i[3]!==c||i[4]!==s||i[5]!==m?(t=(0,r.jsx)(h.t,{data:x,columns:p,error:u,filter:c,onCreate:s,refetch:m,defaultSortColumn:"time",defaultDescending:!0}),i[1]=x,i[2]=u,i[3]=c,i[4]=s,i[5]=m,i[6]=t):t=i[6],t}},63789:(e,n,t)=>{t.d(n,{C:()=>j});var r,a,l=t(52322),i=t(53368),o=t(37288),s=t(51533),c=t(75084),d=t(99128),u=t(11460),m=t(12591),h=t(2784);function x(){return(x=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)({}).hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e}).apply(null,arguments)}let g=function(e){return h.createElement("svg",x({width:44,height:44,fill:"none",stroke:"#2c3e50",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,viewBox:"0 0 24 24"},e),r||(r=h.createElement("path",{fill:"currentColor",stroke:"none",d:"M11.293 7.293a1 1 0 0 1 1.32-.083l.094.083 6 6 .083.094.054.077.054.096.017.036.027.067.032.108.01.053.01.06.004.057L19 14l-.002.059-.005.058-.009.06-.01.052-.032.108-.027.067-.07.132-.065.09-.073.081-.094.083-.077.054-.096.054-.036.017-.067.027-.108.032-.053.01-.06.01-.057.004L18 15H6c-.852 0-1.297-.986-.783-1.623l.076-.084z"})))};function v(){return(v=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)({}).hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e}).apply(null,arguments)}let f=function(e){return h.createElement("svg",v({width:44,height:44,fill:"none",stroke:"#000",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,viewBox:"0 0 24 24"},e),a||(a=h.createElement("path",{fill:"currentColor",stroke:"none",d:"M18 9c.852 0 1.297.986.783 1.623l-.076.084-6 6a1 1 0 0 1-1.32.083l-.094-.083-6-6-.083-.094-.054-.077-.054-.096-.017-.036-.027-.067-.032-.108-.01-.053-.01-.06-.004-.057v-.118l.005-.058.009-.06.01-.052.032-.108.027-.067.07-.132.065-.09.073-.081.094-.083.077-.054.096-.054.036-.017.067-.027.108-.032.053-.01.06-.01.057-.004z"})))};var p=t(70278);let j=e=>{let n,t,r,a,x,v;let j=(0,i.c)(25),{buttonSize:y,isExpanded:S,status:b,onStop:C,onPause:k,onStart:A,onExpand:T}=e,[w,M]=(0,h.useState)(!1);return j[0]===Symbol.for("react.memo_cache_sentinel")?(n=e=>M(e.nativeEvent.layout.width<250),j[0]=n):n=j[0],j[1]!==C||j[2]!==b||j[3]!==w||j[4]!==y?(t=C&&(0,l.jsxs)(s.z,{variant:"redLight",rounded:!0,disabled:b===p.M.Done,onPress:C,size:y,children:[(0,l.jsx)(s.z.Icon,{size:17,children:(0,l.jsx)(c.n,{children:(0,l.jsx)(d.Z,{})})}),!w&&(0,l.jsx)(s.z.Text,{children:"Stop"})]}),j[1]=C,j[2]=b,j[3]=w,j[4]=y,j[5]=t):t=j[5],j[6]!==k||j[7]!==b||j[8]!==w||j[9]!==y?(r=k&&(0,l.jsxs)(s.z,{variant:"yellowLight",rounded:!0,disabled:b===p.M.Done,onPress:k,size:y,children:[(0,l.jsx)(s.z.Icon,{size:17,children:(0,l.jsx)(c.n,{children:(0,l.jsx)(u.Z,{})})}),!w&&(0,l.jsx)(s.z.Text,{children:"Pause"})]}),j[6]=k,j[7]=b,j[8]=w,j[9]=y,j[10]=r):r=j[10],j[11]!==A||j[12]!==b||j[13]!==w||j[14]!==y?(a=A&&(0,l.jsxs)(s.z,{variant:"greenLight",rounded:!0,disabled:b===p.M.Done,onPress:A,size:y,children:[(0,l.jsx)(s.z.Icon,{size:17,children:(0,l.jsx)(c.n,{children:(0,l.jsx)(m.Z,{})})}),!w&&(0,l.jsx)(s.z.Text,{children:"Start"})]}),j[11]=A,j[12]=b,j[13]=w,j[14]=y,j[15]=a):a=j[15],j[16]!==T||j[17]!==S||j[18]!==y?(x=T&&(0,l.jsx)(s.z,{variant:"ghost",rounded:!0,size:y,onPress:T,children:(0,l.jsx)(s.z.Icon,{size:16,children:(0,l.jsx)(c.n,{children:S?(0,l.jsx)(g,{}):(0,l.jsx)(f,{})})})}),j[16]=T,j[17]=S,j[18]=y,j[19]=x):x=j[19],j[20]!==t||j[21]!==r||j[22]!==a||j[23]!==x?(v=(0,l.jsxs)(o.sL,{gap:"$2",onLayout:n,children:[t,r,a,x]}),j[20]=t,j[21]=r,j[22]=a,j[23]=x,j[24]=v):v=j[24],v}},47949:(e,n,t)=>{t.d(n,{C:()=>P,d:()=>T});var r=t(52322),a=t(53368),l=t(1804),i=t(85697),o=t(47994),s=t(37288),c=t(13731),d=t(51533),u=t(28279),m=t(3994),h=t(28240),x=t(94884),g=t(63578),v=t(99950),f=t(50743),p=t(26197),j=t(76541),y=t(11853),S=t(48723),b=t(2784),C=t(30195),k=t(79952),A=t(45330);function T(e){let n=(0,a.c)(5),{onComplete:t,onConfirmOrder:l}=e,i=(0,x.m)(),o=(0,g.A)(i);if(o){let e;return n[1]!==o||n[2]!==t||n[3]!==l?(e=(0,r.jsx)(P,{initialMarket:o,onComplete:t,onConfirmOrder:l}),n[1]=o,n[2]=t,n[3]=l,n[4]=e):e=n[4],e}{let e;return n[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,r.jsx)(A.J,{}),n[0]=e):e=n[0],e}}var w=function(e){return e.MID="MID",e}(w||{});let M=(0,m.B)("\n  mutation CreateMmAlgo($mmAlgo: CreateMMAlgo!) {\n    createMmAlgo(mmAlgo: $mmAlgo)\n  }\n"),z=C.z.object({buyQuantity:C.z.string().min(1,"Buy Quantity is required"),sellQuantity:C.z.string().min(1,"Sell Quantity is required"),minPosition:C.z.string().min(1,"Min Position is required"),maxPosition:C.z.string().min(1,"Max Position is required"),account:C.z.string({message:"Account is required"}).min(1,"Account is required")});function P(e){let{initialMarket:n,onComplete:t,onConfirmOrder:a}=e,{pushNotification:m}=(0,h.z)(),[x]=(0,l.D)(M),{data:g}=(0,i.a)(f.q6),A=(0,b.useMemo)(()=>({market:n,account:null,buyQuantity:"",sellQuantity:"",minPosition:"",maxPosition:"",maxImproveBbo:"0.01",positionTilt:"1",refDistFrac:"0.01",toleranceFrac:"0.005",orderLockoutSeconds:"2",fillLockoutSeconds:"5",rejectLockoutSeconds:"60"}),[n]),T=async e=>{let{data:n}=await x({variables:{mmAlgo:e}});(null==n?void 0:n.createMmAlgo)&&t&&await (null==t?void 0:t())};return(0,r.jsx)(S.J9,{initialValues:A,validateOnChange:!1,validate:e=>{try{z.parse(e)}catch(e){if(e instanceof C.jm)return e.formErrors.fieldErrors}},onSubmit:async e=>{let n=e.market,t={name:"MM-".concat(n.name.replace(/[\s/-]/,""),"-").concat(Date.now()),referencePrice:w.MID,market:n.id,account:e.account,buyQuantity:String(e.buyQuantity),sellQuantity:String(e.sellQuantity),minPosition:String(e.minPosition),maxPosition:String(e.maxPosition),maxImproveBbo:String(e.maxImproveBbo),positionTilt:String(e.positionTilt),refDistFrac:String(e.refDistFrac),toleranceFrac:String(e.toleranceFrac),fillLockoutMs:1e3*parseInt(e.fillLockoutSeconds),orderLockoutMs:1e3*parseInt(e.orderLockoutSeconds),rejectLockoutMs:1e3*parseInt(e.rejectLockoutSeconds)};try{if(a){let r=null==g?void 0:g.accounts.find(n=>{let{id:t}=n;return t===e.account});null==a||a({orderType:p.SH.MM,values:function(e,n,t){let{base:r}=j.H.getExchangeProducts(n),a=y._.getFormattedName(r),{buyQuantity:l,sellQuantity:i,minPosition:o,maxPosition:s,maxImproveBbo:c,positionTilt:d,refDistFrac:u,toleranceFrac:m,fillLockoutMs:h,rejectLockoutMs:x,orderLockoutMs:g}=e;return{"Buy Amount":"".concat(l," ").concat(a),"Sell Amount":"".concat(i," ").concat(a),"Minimum Position":o,"Maximum Position":s,"Max Improve BBO":c,"Position Tilt":d,"Reference Distance Fraction":u,"Tolerance Fraction":m,"Order Lockout":"".concat(Math.round(g/1e3)," sec"),"Fill Lockout":"".concat(Math.round(h/1e3)," sec"),"Reject Lockout":"".concat(Math.round(x/1e3)," sec"),...t?{Account:t}:{}}}(t,n,null==r?void 0:r.name),callback:()=>T(t)})}else await T(t)}catch(e){m({id:"twapCreationError",title:"Error",text:"Creation error: ".concat(e),type:"error"})}},children:e=>{let n=e.values.market,{base:t,quote:a}=j.H.getExchangeProducts(n),l=y._.getFormattedName(t),i=y._.getFormattedName(a);return(0,r.jsx)(o.l0,{onSubmit:e.handleSubmit,children:(0,r.jsxs)(s.FA,{gap:"$4",children:[(0,r.jsxs)(s.FA,{gap:"$2",children:[(0,r.jsx)(c.H5,{editable:!1,label:"Market",endAdornment:(0,r.jsx)(k.a,{selected:n,onChange:n=>{e.setFieldValue("market",n)}})}),(0,r.jsx)(c.H5,{label:"Buy Quantity",id:"buyQuantity",endAdornment:l,value:String(e.values.buyQuantity),error:e.errors.buyQuantity,onChangeText:e.handleChange("buyQuantity"),stepSize:(0,u.He)(n.stepSize)}),(0,r.jsx)(c.H5,{label:"Sell Quantity",id:"sellQuantity",endAdornment:l,value:String(e.values.sellQuantity),error:e.errors.sellQuantity,onChangeText:e.handleChange("sellQuantity"),stepSize:(0,u.He)(n.stepSize),numeric:!0}),(0,r.jsx)(c.H5,{label:"Minimum Position",id:"minimumPosition",endAdornment:l,value:String(e.values.minPosition),error:e.errors.minPosition,onChangeText:e.handleChange("minPosition"),placeholder:"-".concat(n.stepSize),numeric:!0}),(0,r.jsx)(c.H5,{label:"Maximum Position",id:"maxPosition",endAdornment:l,value:String(e.values.maxPosition),error:e.errors.maxPosition,onChangeText:e.handleChange("maxPosition"),placeholder:n.stepSize,numeric:!0}),(0,r.jsx)(c.H5,{label:"Max Improve BBO",id:"maxImproveBbo",endAdornment:i,value:String(e.values.maxImproveBbo),onChangeText:n=>{e.handleChange("maxImproveBbo")(n)},numeric:!0}),(0,r.jsx)(c.H5,{label:"Position Tilt",id:"postionTilt",endAdornment:"".concat(i," per 1 ").concat(l),value:String(e.values.positionTilt),onChangeText:n=>{e.handleChange("positionTilt")(n)},numeric:!0}),(0,r.jsx)(c.H5,{label:"Reference Distance Fraction",id:"refDistFrac",endAdornment:"Fraction (0.01=1%)",value:String(e.values.refDistFrac),onChangeText:n=>{e.handleChange("refDistFrac")(n)},numeric:!0}),(0,r.jsx)(c.H5,{label:"Tolerance Fraction",id:"toleranceFrac",endAdornment:"Fraction (0.01=1%)",value:String(e.values.toleranceFrac),onChangeText:n=>{e.handleChange("toleranceFrac")(n)},numeric:!0}),(0,r.jsx)(c.H5,{label:"Order Lockout",id:"orderLockout",endAdornment:"Seconds",value:String(e.values.orderLockoutSeconds),onChangeText:n=>{e.handleChange("orderLockoutSeconds")(n)},numeric:!0}),(0,r.jsx)(c.H5,{label:"Fill Lockout",id:"fillLockout",endAdornment:"Seconds",value:String(e.values.fillLockoutSeconds),onChangeText:n=>{e.handleChange("fillLockoutSeconds")(n)},numeric:!0}),(0,r.jsx)(c.H5,{label:"Reject Lockout",id:"rejectLockout",endAdornment:"Seconds",value:String(e.values.rejectLockoutSeconds),onChangeText:n=>{e.handleChange("rejectLockoutSeconds")(n)},numeric:!0}),(0,r.jsx)(v.e,{route:n.route.name,venue:n.venue,accountId:e.values.account,setAccountId:e.handleChange("account"),error:e.errors.account})]}),(0,r.jsx)(s.sL,{gap:"$3",children:(0,r.jsx)(o.l0.Trigger,{asChild:!0,children:(0,r.jsx)(d.z,{flex:1,variant:"blueDefault",rounded:!0,disabled:e.isSubmitting||!e.isValid||!e.dirty,children:(0,r.jsx)(d.z.Text,{children:"Create MM algorithm"})})})})]})})}})}},20205:(e,n,t)=>{t.d(n,{Q:()=>P,T:()=>L});var r=t(52322),a=t(53368),l=t(1804),i=t(85697),o=t(47994),s=t(37288),c=t(51533),d=t(13731),u=t(90802),m=t(6679),h=t(28279),x=t(43363),g=t(28240),v=t(94884),f=t(63578),p=t(50060),j=t(99950),y=t(50743),S=t(26197),b=t(76541),C=t(11853),k=t(65124),A=t(48723),T=t(2784),w=t(30195),M=t(79952),z=t(45330);function P(e){let n=(0,a.c)(5),{onComplete:t,onConfirmOrder:l}=e,i=(0,v.m)(),o=(0,f.A)(i);if(o){let e;return n[1]!==o||n[2]!==t||n[3]!==l?(e=(0,r.jsx)(L,{initialMarket:o,onComplete:t,onConfirmOrder:l}),n[1]=o,n[2]=t,n[3]=l,n[4]=e):e=n[4],e}{let e;return n[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,r.jsx)(z.J,{}),n[0]=e):e=n[0],e}}let F=w.z.object({minOrderQuantity:w.z.string().min(1,"Min Order Quantity is required"),maxQuantity:w.z.string().min(1,"Max Quantity is required"),account:w.z.string({message:"Account is required"}).min(1,"Account is required")});function L(e){let{initialMarket:n,onComplete:t,onConfirmOrder:a}=e,{pushNotification:u}=(0,g.z)(),[v]=(0,l.D)(x.b),{data:f}=(0,i.a)(y.q6),p=(0,T.useMemo)(()=>({__SERVER_ERROR__:"",market:n,dir:"buy",targetVolumeFrac:"0.01",minOrderQuantity:"",maxQuantity:"",orderLockoutSeconds:"10",rejectLockoutSeconds:"60",takeThroughFrac:"0.001",endTime:new Date(new Date().getTime()+3e5).toISOString(),account:null}),[n]),z=async e=>{let{data:n}=await v({variables:{povAlgo:e}});(null==n?void 0:n.createPovAlgo)&&t&&await (null==t?void 0:t())};return(0,r.jsx)(A.J9,{initialValues:p,validateOnChange:!1,validate:e=>{try{F.parse(e)}catch(e){if(e instanceof w.jm)return e.formErrors.fieldErrors}},onSubmit:async e=>{let n=e.market,t={name:"POV-".concat(n.name.replace(/[\s/-]/,""),"-").concat(Date.now()),market:n.id,dir:e.dir,targetVolumeFrac:e.targetVolumeFrac,minOrderQuantity:e.minOrderQuantity,maxQuantity:e.maxQuantity,orderLockoutMs:1e3*parseInt(e.orderLockoutSeconds),takeThroughFrac:String(e.takeThroughFrac),endTime:new Date(e.endTime).toISOString(),account:e.account};try{if(a){let r=null==f?void 0:f.accounts.find(n=>{let{id:t}=n;return t===e.account});a({orderType:S.SH.POV,values:function(e,n,t){let{base:r}=b.H.getExchangeProducts(n),a=C._.getFormattedName(r),{dir:l,targetVolumeFrac:i,minOrderQuantity:o,maxQuantity:s,endTime:c,orderLockoutMs:d,takeThroughFrac:u}=e;return{Side:(0,h.kC)(l),"Maximum quantity":"".concat(s," ").concat(a),"Min. Order Amount":"".concat(o," ").concat(a),"Target Volume Fraction":i,"Take Through Fraction":u,"End Time":(0,k.WU)(c,"MM/dd/yyyy - HH:mm a"),"Order Lockout":"".concat(Math.round(d/1e3)," sec"),...t?{Account:t}:{}}}(t,n,null==r?void 0:r.name),callback:()=>z(t)})}else await z(t)}catch(e){u({id:"povCreationError",title:"Error",text:"Creation error: ".concat(e),type:"error"})}},children:e=>{let n=e.values.market,{base:t}=b.H.getExchangeProducts(n),a=C._.getFormattedName(t);return(0,r.jsx)(o.l0,{onSubmit:e.handleSubmit,children:(0,r.jsxs)(s.FA,{gap:"$4",children:[(0,r.jsxs)(s.sL,{gap:"$2",children:[(0,r.jsx)(c.z,{onPress:()=>e.handleChange("dir")("buy"),opacity:"buy"===e.values.dir?1:.25,variant:"greenLight",flex:1,rounded:!0,children:(0,r.jsx)(c.z.Text,{children:"Buy"})}),(0,r.jsx)(c.z,{onPress:()=>e.handleChange("dir")("sell"),opacity:"sell"===e.values.dir?1:.25,variant:"redLight",flex:1,rounded:!0,children:(0,r.jsx)(c.z.Text,{children:"Sell"})})]}),(0,r.jsxs)(s.FA,{gap:"$2",children:[(0,r.jsx)(d.H5,{editable:!1,label:"Market",endAdornment:(0,r.jsx)(M.a,{selected:n,onChange:n=>{e.setFieldValue("market",n)}})}),(0,r.jsx)(d.H5,{label:"Target Market Volume Fraction",id:"targetVolumeFrac",endAdornment:"Fraction (0.01=1%)",value:String(e.values.targetVolumeFrac),onChangeText:e.handleChange("targetVolumeFrac"),numeric:!0}),(0,r.jsx)(d.H5,{label:"Min Order Quantity",id:"MinOrderQuantity",endAdornment:a,value:String(e.values.minOrderQuantity),onChangeText:e.handleChange("minOrderQuantity"),error:e.errors.minOrderQuantity,stepSize:(0,h.He)(n.stepSize),numeric:!0}),(0,r.jsx)(d.H5,{label:"Max Quantity",id:"MaxQuantity",endAdornment:a,value:String(e.values.maxQuantity),onChangeText:e.handleChange("maxQuantity"),error:e.errors.maxQuantity,stepSize:(0,h.He)(n.stepSize),numeric:!0}),(0,r.jsx)(d.H5,{label:"Take Through Fraction",id:"takeThroughFrac",endAdornment:"Fraction (0.01=1%)",value:String(e.values.takeThroughFrac),onChangeText:e.handleChange("takeThroughFrac"),numeric:!0}),(0,r.jsx)(d.H5,{label:"Order Lockout",id:"Order Lockout",endAdornment:"Seconds",value:String(e.values.orderLockoutSeconds),onChangeText:e.handleChange("orderLockoutSeconds"),numeric:!0}),(0,r.jsx)(d.H5,{label:"Reject Lockout",id:"Reject Lockout",endAdornment:"Seconds",value:String(e.values.rejectLockoutSeconds),onChangeText:e.handleChange("rejectLockoutSeconds"),numeric:!0}),(0,r.jsx)(m.x,{value:new Date(e.values.endTime),setValue:n=>e.handleChange("endTime")(n.toISOString())}),(0,r.jsx)(j.e,{route:n.route.name,venue:n.venue,accountId:e.values.account,setAccountId:n=>e.handleChange("account")(n),error:e.errors.account})]}),(0,r.jsx)(s.FA,{gap:"$2",children:(0,r.jsx)(I,{marketId:n.id,quantity:e.values.maxQuantity})}),(0,r.jsx)(s.sL,{gap:"$3",children:(0,r.jsx)(o.l0.Trigger,{asChild:!0,children:(0,r.jsx)(c.z,{flex:1,variant:"blueDefault",rounded:!0,disabled:e.isSubmitting||!e.isValid||!e.dirty,children:(0,r.jsx)(c.z.Text,{children:"Create POV algorithm"})})})})]})})}})}function I(e){let n,t,l;let i=(0,a.c)(8),{marketId:o,quantity:s}=e,c=(0,p.J)(o);i[0]!==c?(n=Object.hasOwn(c,"lastPrice"),i[0]=c,i[1]=n):n=i[1];let d=n;return i[2]!==d||i[3]!==c||i[4]!==s?(t=d?function(e,n){var t;let r=Number(e.lastPrice)*Number(n),a=null===(t=b.H.getMarketData(e.market.name))||void 0===t?void 0:t.quoteName;return"".concat(r," ").concat(a)}(c,s):"--",i[2]=d,i[3]=c,i[4]=s,i[5]=t):t=i[5],i[6]!==t?(l=(0,r.jsx)(u.c,{label:"Estimated Total",value:t}),i[6]=t,i[7]=l):l=i[7],l}},50523:(e,n,t)=>{t.d(n,{j:()=>P,k:()=>T});var r=t(52322),a=t(53368),l=t(1804),i=t(85697),o=t(47994),s=t(37288),c=t(13731),d=t(51533),u=t(28279),m=t(3994),h=t(28240),x=t(94884),g=t(63578),v=t(99950),f=t(50743),p=t(26197),j=t(76541),y=t(11853),S=t(48723),b=t(2784),C=t(30195),k=t(79952),A=t(45330);function T(e){let n=(0,a.c)(5),{onComplete:t,onConfirmOrder:l}=e,i=(0,x.m)(),o=(0,g.A)(i);if(o){let e;return n[1]!==o||n[2]!==t||n[3]!==l?(e=(0,r.jsx)(P,{initialMarket:o,onComplete:t,onConfirmOrder:l}),n[1]=o,n[2]=t,n[3]=l,n[4]=e):e=n[4],e}{let e;return n[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,r.jsx)(A.J,{}),n[0]=e):e=n[0],e}}let w=C.z.object({buyQuantity:C.z.string().min(1,"Buy Order Quantity is required"),sellQuantity:C.z.string().min(1,"Sell Quantity is required"),minPosition:C.z.string().min(1,"Min Position is required"),maxPosition:C.z.string().min(1,"Max Position is required"),account:C.z.string({message:"Account is required"}).min(1,"Account is required")});var M=function(e){return e.HedgeMarketBidAsk="HEDGE_MARKET_BID_ASK",e}(M||{});let z=(0,m.B)("\n  mutation CreateSpreadAlgo($spreadAlgo: CreateSpreadAlgo!) {\n    createSpreadAlgo(spreadAlgo: $spreadAlgo)\n  }\n");function P(e){let{initialMarket:n,onComplete:t,onConfirmOrder:a}=e,{pushNotification:m}=(0,h.z)(),[x]=(0,l.D)(z),{data:g}=(0,i.a)(f.q6),A=(0,b.useMemo)(()=>({market:n,hedgeMarket:n,conversionRatio:"1",premium:"0",account:null,buyQuantity:"",sellQuantity:"",minPosition:"",maxPosition:"",maxImproveBbo:"0.01",positionTilt:"1",refDistFrac:"0.01",toleranceFrac:"0.005",orderLockoutSeconds:"2",fillLockoutSeconds:"5",rejectLockoutSeconds:"60"}),[n]),T=async e=>{let{data:n}=await x({variables:{spreadAlgo:e}});(null==n?void 0:n.createSpreadAlgo)&&t&&await (null==t?void 0:t())};return(0,r.jsx)(S.J9,{initialValues:A,validateOnChange:!1,validate:e=>{try{w.parse(e)}catch(e){if(e instanceof C.jm)return e.formErrors.fieldErrors}},onSubmit:async e=>{let n=e.market,t={name:"Spread-".concat(n.name.replace(/[\s/-]/,""),"-").concat(Date.now()),referencePrice:M.HedgeMarketBidAsk,market:n.id,hedgeMarket:{market:e.hedgeMarket.id,conversionRatio:e.conversionRatio,premium:e.premium,hedgeFrac:"1"},account:e.account,buyQuantity:String(e.buyQuantity),sellQuantity:String(e.sellQuantity),minPosition:String(e.minPosition),maxPosition:String(e.maxPosition),maxImproveBbo:String(e.maxImproveBbo),positionTilt:String(e.positionTilt),refDistFrac:String(e.refDistFrac),toleranceFrac:String(e.toleranceFrac),fillLockoutMs:1e3*parseInt(e.fillLockoutSeconds),orderLockoutMs:1e3*parseInt(e.orderLockoutSeconds),rejectLockoutMs:1e3*parseInt(e.rejectLockoutSeconds)};try{if(a){let r=null==g?void 0:g.accounts.find(n=>{let{id:t}=n;return t===e.account});a({orderType:p.SH.SPREAD,values:function(e,n,t){let{base:r}=j.H.getExchangeProducts(n),a=y._.getFormattedName(r),{buyQuantity:l,sellQuantity:i,minPosition:o,maxPosition:s,maxImproveBbo:c,positionTilt:d,refDistFrac:u,toleranceFrac:m,fillLockoutMs:h,rejectLockoutMs:x,orderLockoutMs:g}=e;return{"Buy Amount":"".concat(l," ").concat(a),"Sell Amount":"".concat(i," ").concat(a),"Minimum Position":o,"Maximum Position":s,"Max Improve BBO":c,"Position Tilt":d,"Reference Distance Fraction":u,"Tolerance Fraction":m,"Order Lockout":"".concat(Math.round(g/1e3)," sec"),"Fill Lockout":"".concat(Math.round(h/1e3)," sec"),"Reject Lockout":"".concat(Math.round(x/1e3)," sec"),...t?{Account:t}:{}}}(t,n,null==r?void 0:r.name),callback:()=>T(t)})}else await T(t)}catch(e){m({id:"twapSpreadError",title:"Error",text:"Creation error: ".concat(e),type:"error"})}},children:e=>{let n=e.values.market,t=e.values.hedgeMarket,{base:a,quote:l}=j.H.getExchangeProducts(n),i=y._.getFormattedName(a),m=y._.getFormattedName(l);return(0,r.jsx)(o.l0,{onSubmit:e.handleSubmit,children:(0,r.jsxs)(s.FA,{gap:"$4",children:[(0,r.jsxs)(s.FA,{gap:"$2",children:[(0,r.jsx)(c.H5,{editable:!1,label:"Market",endAdornment:(0,r.jsx)(k.a,{selected:n,onChange:n=>{e.setFieldValue("market",n)}})}),(0,r.jsx)(c.H5,{editable:!1,label:"Hedge Market",endAdornment:(0,r.jsx)(k.a,{selected:t,onChange:n=>{e.setFieldValue("hedgeMarket",n)}})}),(0,r.jsx)(c.H5,{label:"Conversion Ratio",id:"conversionRatio",endAdornment:"lead per hedge",value:String(e.values.conversionRatio),onChangeText:e.handleChange("conversionRatio"),numeric:!0}),(0,r.jsx)(c.H5,{label:"Premium",id:"premium",endAdornment:m,value:String(e.values.premium),onChangeText:e.handleChange("premium"),numeric:!0}),(0,r.jsx)(c.H5,{label:"Buy Quantity",id:"buyQuantity",endAdornment:i,value:String(e.values.buyQuantity),error:e.errors.buyQuantity,onChangeText:e.handleChange("buyQuantity"),stepSize:(0,u.He)(n.stepSize),numeric:!0}),(0,r.jsx)(c.H5,{label:"Sell Quantity",id:"sellQuantity",endAdornment:i,value:String(e.values.sellQuantity),error:e.errors.sellQuantity,onChangeText:e.handleChange("sellQuantity"),stepSize:(0,u.He)(n.stepSize),numeric:!0}),(0,r.jsx)(c.H5,{label:"Minimum Position",id:"minimumPosition",endAdornment:i,value:String(e.values.minPosition),error:e.errors.minPosition,onChangeText:e.handleChange("minPosition"),placeholder:"-".concat(n.stepSize),numeric:!0}),(0,r.jsx)(c.H5,{label:"Maximum Position",id:"maxPosition",endAdornment:i,value:String(e.values.maxPosition),error:e.errors.maxPosition,onChangeText:e.handleChange("maxPosition"),placeholder:n.stepSize,numeric:!0}),(0,r.jsx)(c.H5,{label:"Max Improve BBO",id:"maxImproveBbo",endAdornment:m,value:String(e.values.maxImproveBbo),onChangeText:e.handleChange("maxImproveBbo"),numeric:!0}),(0,r.jsx)(c.H5,{label:"Position Tilt",id:"postionTilt",endAdornment:"".concat(m," per 1 ").concat(i),value:String(e.values.positionTilt),onChangeText:e.handleChange("positionTilt"),numeric:!0}),(0,r.jsx)(c.H5,{label:"Reference Distance Fraction",id:"refDistFrac",endAdornment:"Fraction (0.01=1%)",value:String(e.values.refDistFrac),onChangeText:e.handleChange("refDistFrac"),numeric:!0}),(0,r.jsx)(c.H5,{label:"Tolerance Fraction",id:"toleranceFrac",endAdornment:"Fraction (0.01=1%)",value:String(e.values.toleranceFrac),onChangeText:e.handleChange("toleranceFrac"),numeric:!0}),(0,r.jsx)(c.H5,{label:"Order Lockout",id:"orderLockout",endAdornment:"Seconds",value:String(e.values.orderLockoutSeconds),onChangeText:e.handleChange("orderLockoutSeconds"),numeric:!0}),(0,r.jsx)(c.H5,{label:"Fill Lockout",id:"fillLockout",endAdornment:"Seconds",value:String(e.values.fillLockoutSeconds),onChangeText:e.handleChange("fillLockoutSeconds"),numeric:!0}),(0,r.jsx)(c.H5,{label:"Reject Lockout",id:"rejectLockout",endAdornment:"Seconds",value:String(e.values.rejectLockoutSeconds),onChangeText:e.handleChange("rejectLockoutSeconds"),numeric:!0}),(0,r.jsx)(v.e,{route:n.route.name,venue:n.venue,accountId:e.values.account,setAccountId:e.handleChange("account"),error:e.errors.account})]}),(0,r.jsx)(s.sL,{gap:"$3",children:(0,r.jsx)(o.l0.Trigger,{asChild:!0,children:(0,r.jsx)(d.z,{flex:1,variant:"blueDefault",rounded:!0,disabled:e.isSubmitting||!e.isValid||!e.dirty,children:(0,r.jsx)(d.z.Text,{children:"Create SPREAD algorithm"})})})})]})})}})}},20556:(e,n,t)=>{t.d(n,{k:()=>L,h:()=>O});var r=t(52322),a=t(53368),l=t(85697),i=t(47994),o=t(37288),s=t(51533),c=t(13731),d=t(90802),u=t(6679),m=t(28279),h=t(28240),x=t(1804),g=t(43363);let v=()=>{let e,n;let t=(0,a.c)(5),[r,l]=(0,x.D)(g.n);return t[0]!==r?(e=e=>r({variables:{twapAlgo:e}}),t[0]=r,t[1]=e):e=t[1],t[2]!==e||t[3]!==l?(n={createTwap:e,...l},t[2]=e,t[3]=l,t[4]=n):n=t[4],n};var f=t(94884),p=t(63578),j=t(50060),y=t(99950),S=t(50743),b=t(26197),C=t(89015),k=t(76541),A=t(11853),T=t(65124),w=t(48723),M=t(2784),z=t(30195),P=t(79952),F=t(45330);function L(e){let n=(0,a.c)(5),{onComplete:t,onConfirmOrder:l}=e,i=(0,f.m)(),o=(0,p.A)(i);if(o){let e;return n[1]!==o||n[2]!==t||n[3]!==l?(e=(0,r.jsx)(O,{initialMarket:o,onComplete:t,onConfirmOrder:l}),n[1]=o,n[2]=t,n[3]=l,n[4]=e):e=n[4],e}{let e;return n[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,r.jsx)(F.J,{}),n[0]=e):e=n[0],e}}let I=z.z.object({quantity:z.z.string().min(1,"Quantity is required"),account:z.z.string({message:"Account is required"}).min(1,"Account is required")});function O(e){let{initialMarket:n,onComplete:t,onConfirmOrder:a}=e,{pushNotification:x}=(0,h.z)(),{createTwap:g}=v(),{data:f}=(0,l.a)(S.q6),p=(0,M.useMemo)(()=>({market:n,dir:"buy",quantity:"",timeIntervalSeconds:"15",rejectLockoutSeconds:"60",takeThroughFrac:"0.001",endTime:new Date(new Date().getTime()+36e5).toISOString(),account:null}),[n]),j=async e=>{let{data:n}=await g(e);(null==n?void 0:n.createTwapAlgo)&&t&&await (null==t?void 0:t())};return(0,r.jsx)(w.J9,{initialValues:p,validateOnChange:!1,validate:e=>{try{I.parse(e)}catch(e){if(e instanceof z.jm)return e.formErrors.fieldErrors}},onSubmit:async e=>{let n=e.market,t={name:"TWAP-".concat(n.name.replace(/[\s/-]/,""),"-").concat(Date.now()),market:n.id,dir:e.dir,quantity:e.quantity,intervalMs:1e3*parseInt(e.timeIntervalSeconds),rejectLockoutMs:1e3*parseInt(e.rejectLockoutSeconds),takeThroughFrac:String(e.takeThroughFrac),endTime:new Date(e.endTime).toISOString(),account:e.account};try{if(a){let r=null==f?void 0:f.accounts.find(n=>{let{id:t}=n;return t===e.account});null==a||a({orderType:b.SH.TWAP,values:function(e,n,t){let{base:r}=k.H.getExchangeProducts(n),a=A._.getFormattedName(r),{dir:l,quantity:i,endTime:o,intervalMs:s,rejectLockoutMs:c,takeThroughFrac:d}=e;return{Side:(0,m.kC)(l),Quantity:"".concat(i," ").concat(a),"Take Through Fraction":d,Interval:"".concat(Math.round(s/1e3)," sec."),"Reject Lockout":"".concat(Math.round(c/1e3)," sec"),"End Time":(0,T.WU)(o,"MM/dd/yyyy - HH:mm a"),...t?{Account:t}:{}}}(t,n,null==r?void 0:r.name),callback:()=>j(t)})}else await j(t)}catch(e){x({id:"twapCreationError",title:"Error",text:"Creation error: ".concat(e),type:"error"})}},children:e=>{let n=e.values.market,{base:t}=k.H.getExchangeProducts(n),a=A._.getFormattedName(t);return(0,r.jsx)(i.l0,{onSubmit:e.handleSubmit,children:(0,r.jsxs)(o.FA,{gap:"$4",children:[(0,r.jsxs)(o.sL,{gap:"$2",children:[(0,r.jsx)(s.z,{onPress:()=>e.handleChange("dir")("buy"),opacity:"buy"===e.values.dir?1:.25,variant:"greenLight",flex:1,rounded:!0,children:(0,r.jsx)(s.z.Text,{children:"Buy"})}),(0,r.jsx)(s.z,{onPress:()=>e.handleChange("dir")("sell"),opacity:"sell"===e.values.dir?1:.25,variant:"redLight",flex:1,rounded:!0,children:(0,r.jsx)(s.z.Text,{children:"Sell"})})]}),(0,r.jsxs)(o.FA,{gap:"$2",children:[(0,r.jsx)(c.H5,{editable:!1,label:"Market",endAdornment:(0,r.jsx)(P.a,{selected:n,onChange:n=>{e.setFieldValue("market",n)}})}),(0,r.jsx)(c.H5,{label:"Quantity",id:"Quantity",error:e.errors.quantity,endAdornment:a,value:e.values.quantity,onChangeText:e.handleChange("quantity"),stepSize:(0,m.He)(n.stepSize),numeric:!0}),(0,r.jsx)(c.H5,{label:"Time Interval",id:"TimeInterval",endAdornment:"Seconds",value:String(e.values.timeIntervalSeconds),onChangeText:e.handleChange("timeIntervalSeconds"),numeric:!0}),(0,r.jsx)(c.H5,{label:"Take Through Fraction",id:"takeThroughFrac",endAdornment:"Fraction (0.01=1%)",value:String(e.values.takeThroughFrac),onChangeText:e.handleChange("takeThroughFrac"),numeric:!0}),(0,r.jsx)(c.H5,{label:"Reject Lockout",id:"RejectLockout",endAdornment:"Seconds",value:String(e.values.rejectLockoutSeconds),onChangeText:e.handleChange("rejectLockoutSeconds"),numeric:!0}),(0,r.jsx)(u.x,{value:new Date(e.values.endTime),setValue:n=>e.handleChange("endTime")(n.toISOString())}),(0,r.jsx)(y.e,{route:n.route.name,venue:n.venue,accountId:e.values.account,setAccountId:e.handleChange("account"),error:e.errors.account})]}),(0,r.jsxs)(o.FA,{gap:"$2",children:[(0,r.jsx)($,{marketId:n.id,quantity:e.values.quantity}),(0,r.jsx)(d.c,{label:"Execution",value:function(e,n,t,r,a){let l=(new Date(a).getTime()-Date.now())/1e3/parseInt(r),i=Number(t)/l,{base:o}=k.H.getExchangeProducts(e),s=o?A._.getFormattedName(o):e.name;return"".concat((0,m.kC)(n),"ing ~").concat(i.toFixed(3)," ").concat(s," every ").concat(r,"s")}(n,e.values.dir,e.values.quantity,e.values.timeIntervalSeconds,e.values.endTime)})]}),(0,r.jsx)(o.sL,{gap:"$3",children:(0,r.jsx)(i.l0.Trigger,{asChild:!0,children:(0,r.jsx)(s.z,{flex:1,variant:"blueDefault",rounded:!0,disabled:e.isSubmitting||!e.isValid||!e.dirty,children:(0,r.jsx)(s.z.Text,{children:"Create TWAP algorithm"})})})})]})})}})}function $(e){let n,t,l;let i=(0,a.c)(8),{marketId:o,quantity:s}=e,c=(0,j.J)(o);i[0]!==c?(n=!!c&&Object.hasOwn(c,"lastPrice"),i[0]=c,i[1]=n):n=i[1];let u=n;return i[2]!==u||i[3]!==c||i[4]!==s?(t=u?function(e,n){let{base:t,quote:r}=k.H.getExchangeProducts(e.market),a=(0,m.He)(e.lastPrice)*(0,m.He)(n)*(0,m.He)(null==t?void 0:t.multiplier);return(null==r?void 0:r.name)==="USD"?(0,C.xG)(a):"".concat(a," ").concat(null==r?void 0:r.name)}(c,s):"--",i[2]=u,i[3]=c,i[4]=s,i[5]=t):t=i[5],i[6]!==t?(l=(0,r.jsx)(d.c,{label:"Estimated Total",value:t}),i[6]=t,i[7]=l):l=i[7],l}},81494:(e,n,t)=>{t.d(n,{o:()=>M});var r,a=t(52322),l=t(53368),i=t(3842),o=t(37288),s=t(25978),c=t(75084),d=t(29006),u=t(30872),m=t(2784);function h(){return(h=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)({}).hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e}).apply(null,arguments)}let x=function(e){return m.createElement("svg",h({xmlns:"http://www.w3.org/2000/svg",fill:"#FFF",viewBox:"0 0 22 22"},e),r||(r=m.createElement("path",{fillRule:"evenodd",d:"M3.963 21.307C5.403 22 7.268 22 11 22h4a6.98 6.98 0 0 0 5.067-2.17A6.98 6.98 0 0 0 22 15V7a6.98 6.98 0 0 0-2.169-5.066A6.98 6.98 0 0 0 15 0h-4C7.268 0 5.402 0 3.963.693a7 7 0 0 0-3.27 3.27C0 5.403 0 7.268 0 11s0 5.598.693 7.037a7 7 0 0 0 3.27 3.27m11.261-18.3a4 4 0 0 1 2.786 1.358c.57.651.932 1.489.984 2.41.005.092.006.22.006.725v7c0 .505-.001.633-.006.724a4 4 0 0 1-1.36 2.786 4 4 0 0 1-2.689.99A2 2 0 0 1 13 17V5a2 2 0 0 1 1.945-2c.156.002.225.003.28.006M8.707 13.292a1 1 0 1 1-1.414 1.414l-3-3a1 1 0 0 1 0-1.414l3-3a1 1 0 0 1 1.414 1.414L6.414 11z",clipRule:"evenodd"})))};var g=t(23998),v=t(25983),f=t(75326),p=t(26197),j=t(3784),y=t(84212),S=t(96683),b=t(43073),C=t(62599),k=t(47949),A=t(20205),T=t(50523),w=t(20556);let M=e=>{let n,t,r,h,M,z,P,F,L,I,O,$,_;let D=(0,l.c)(34),{initialAlgo:H,open:E,onClose:R,onAlgoTypeChange:Q}=e,B=(0,v.P)(),[V,q]=(0,m.useState)(null),[N]=(0,i.t)(y.Z),[G]=(0,i.t)(S.v),[W]=(0,i.t)(b.N),[U]=(0,i.t)(C.r);D[0]!==H||D[1]!==N||D[2]!==G||D[3]!==W||D[4]!==U?(n=async function(){switch(H){case"TWAP":await N({fetchPolicy:"network-only"});break;case"MM":await G({fetchPolicy:"network-only"});break;case"SPREAD":await W({fetchPolicy:"network-only"});break;case"POV":await U({fetchPolicy:"network-only"})}},D[0]=H,D[1]=N,D[2]=G,D[3]=W,D[4]=U,D[5]=n):n=D[5];let Z=n;return E&&(0,j.mL)(H,B)?(D[6]===Symbol.for("react.memo_cache_sentinel")?(t=()=>q(null),D[6]=t):t=D[6],D[7]===Symbol.for("react.memo_cache_sentinel")?(r={width:400,marginTop:-40},D[7]=r):r=D[7],D[8]!==V?(h=(0,a.jsx)(f.W,{onOpenChange:t,containerProps:r,...V}),D[8]=V,D[9]=h):h=D[9],D[10]!==H?(M=(0,a.jsxs)(s.x,{fontSize:20,weight:"medium",children:["Create ",H," Algo"]}),D[10]=H,D[11]=M):M=D[11],D[12]!==Q||D[13]!==B||D[14]!==H?(z=Q&&(0,a.jsx)(u.P,{options:Object.values(p.SH).filter(e=>(0,j.mL)(e,B)).map(e=>({id:e,label:e})),value:H,onChange:Q,color:"$textDefault",backgroundColor:"$surfaceGrayDefault",rounded:!0}),D[12]=Q,D[13]=B,D[14]=H,D[15]=z):z=D[15],D[16]!==M||D[17]!==z?(P=(0,a.jsxs)(o.sL,{alignItems:"center",gap:"$3",children:[M,z]}),D[16]=M,D[17]=z,D[18]=P):P=D[18],D[19]===Symbol.for("react.memo_cache_sentinel")?(F=(0,a.jsx)(c.n,{children:(0,a.jsx)(x,{})}),D[19]=F):F=D[19],D[20]!==R?(L=(0,a.jsx)(d.h,{onPress:R,children:F}),D[20]=R,D[21]=L):L=D[21],D[22]!==P||D[23]!==L?(I=(0,a.jsxs)(o.sL,{alignItems:"center",justifyContent:"space-between",children:[P,L]}),D[22]=P,D[23]=L,D[24]=I):I=D[24],D[25]!==H||D[26]!==Z?(O=H===p.SH.TWAP?(0,a.jsx)(w.k,{onComplete:Z,onConfirmOrder:q}):H===p.SH.MM?(0,a.jsx)(k.d,{onComplete:Z,onConfirmOrder:q}):H===p.SH.POV?(0,a.jsx)(A.Q,{onComplete:Z,onConfirmOrder:q}):H===p.SH.SPREAD?(0,a.jsx)(T.k,{onComplete:Z,onConfirmOrder:q}):(0,a.jsx)(s.x,{children:"TODO"}),D[25]=H,D[26]=Z,D[27]=O):O=D[27],D[28]!==I||D[29]!==O?($=(0,a.jsxs)(o.FA,{gap:"$4",children:[I,O]}),D[28]=I,D[29]=O,D[30]=$):$=D[30],D[31]!==h||D[32]!==$?(_=(0,a.jsxs)(g.q,{width:400,minWidth:400,h:"100%",children:[h,$]}),D[31]=h,D[32]=$,D[33]=_):_=D[33],_):null}},59525:(e,n,t)=>{t.d(n,{t:()=>R});var r=t(52322),a=t(53368),l=t(84214),i=t(2784),o=t(37288),s=t(75084),c=t(25978),d=t(51533),u=t(67722),m=t(99539);let h=e=>{let n,t,l,i,h;let x=(0,a.c)(11),{text:g,buttonText:v,onCreate:f}=e;x[0]===Symbol.for("react.memo_cache_sentinel")?(n={initial:!1,parse:e=>!!e&&"false"!==e},x[0]=n):n=x[0];let[p]=(0,m.Ao)("create",n);return x[1]===Symbol.for("react.memo_cache_sentinel")?(t=(0,r.jsx)(s.n,{size:14,children:(0,r.jsx)(u.Z,{})}),x[1]=t):t=x[1],x[2]!==g?(l=(0,r.jsx)(c.x,{fontSize:"$3",children:g}),x[2]=g,x[3]=l):l=x[3],x[4]!==f||x[5]!==p||x[6]!==v?(i=f&&!p?(0,r.jsx)(o.sL,{alignItems:"center",gap:"$4",children:(0,r.jsx)(d.z,{variant:"blueLight",rounded:!0,onPress:f,children:(0,r.jsx)(d.z.Text,{children:v})})}):null,x[4]=f,x[5]=p,x[6]=v,x[7]=i):i=x[7],x[8]!==l||x[9]!==i?(h=(0,r.jsxs)(o.FA,{gap:"$4",alignItems:"center",paddingVertical:"$6",children:[t,l,i]}),x[8]=l,x[9]=i,x[10]=h):h=x[10],h};var x=t(85697),g=t(76988),v=t(30813),f=t(71781),p=t(2958),j=t(33295),y=t(31490),S=t(64977),b=t(96049),C=t(79469);let k=e=>{let n,t,r,l;let o=(0,a.c)(10),{marketId:s,start:c,end:d,resolution:u}=e;o[0]===Symbol.for("react.memo_cache_sentinel")?(n=[],o[0]=n):n=o[0];let[m,h]=(0,i.useState)(n),x=(0,S.m8)();return o[1]!==s||o[2]!==c||o[3]!==d||o[4]!==u||o[5]!==x?(t=()=>{s&&c&&d&&u&&(0,C.J)(c)&&(0,C.J)(d)&&(0,b.E)(x,{id:s,start:c,end:d,width:u}).then(h)},r=[s,c,d,u,x],o[1]=s,o[2]=c,o[3]=d,o[4]=u,o[5]=x,o[6]=t,o[7]=r):(t=o[6],r=o[7]),(0,i.useEffect)(t,r),o[8]!==m?(l={candles:m},o[8]=m,o[9]=l):l=o[9],l};var A=t(63578),T=t(76541),w=t(77827),M=t(7489),z=t(340),P=t(35616),F=t(48096),L=t(65124),I=t(43483);let O=(0,t(3994).B)("\n  query AlgoLog($orderId: OrderId!) {\n    algoLog(orderId: $orderId) {\n      orderId\n      __typename\n      fills {\n        __typename\n        orderId\n        dir\n        price\n        kind\n        quantity\n        tradeTime\n      }\n      aberrantFills {\n        __typename\n        orderId\n        dir\n        price\n        kind\n        quantity\n        tradeTime\n      }\n      rejects {\n        __typename\n        orderId\n        reason\n      }\n    }\n  }\n");var $=t(51257),_=function(e){return e.Second="ONE_SECOND",e.FiveSecond="FIVE_SECOND",e.Minute="ONE_MINUTE",e.FifteenMinute="FIFTEEN_MINUTE",e.Hour="ONE_HOUR",e.Day="ONE_DAY",e}(_||{});let D=e=>{let{start:n,end:t}=e;if(!n||!t)return _.Minute;let r=(0,$.A)(t,n);return r>168?_.Day:r>=24?_.Hour:r>=6?_.FifteenMinute:_.Minute};var H=function(e){return e.Fills="fills",e.AberrantFills="aberrantFills",e.Rejected="rejects",e}(H||{});let E=e=>{let{orderId:n,marketId:t}=e,[a,s]=(0,i.useState)(H.Fills),{data:d}=(0,x.a)(O,{variables:{orderId:n},pollInterval:2e3}),u=(0,A.A)(t),m=null==d?void 0:d.algoLog,h=(0,i.useMemo)(()=>Object.entries(H).map(e=>{let[n,t]=e;return{label:"".concat((0,I.TN)(n)," (").concat((null==m?void 0:m[t].length)||0,")"),id:t}}),[m]),S=(0,i.useMemo)(()=>{var e,n;return(0,w._)((0,M.V)((null==m?void 0:null===(n=m[a])||void 0===n?void 0:null===(e=n.filter(e=>null==e?void 0:e.tradeTime))||void 0===e?void 0:e.map(e=>e.tradeTime))||[]).toString(),5)},[m,a]),b=(0,i.useMemo)(()=>{var e,n;return(0,z.m)((0,P.F)((null==m?void 0:null===(n=m[a])||void 0===n?void 0:null===(e=n.filter(e=>null==e?void 0:e.tradeTime))||void 0===e?void 0:e.map(e=>e.tradeTime))||[]).toString(),5)},[m,a]),C=(0,i.useMemo)(()=>D({start:S,end:b}),[S,b]),{candles:$}=k({marketId:t,start:S,end:b,resolution:C}),_=(0,i.useMemo)(()=>[...(null==m?void 0:m[H.Fills])||[],...(null==m?void 0:m[H.AberrantFills])||[]].map(e=>({tradeTime:(0,F.Q)(e.tradeTime),dir:e.dir})),[m]),E=(0,i.useMemo)(()=>{let e=[{id:"id",header:"Order ID",render:e=>{let{orderId:n}=e;return(0,r.jsx)(c.x,{children:n})}}];return a===H.Rejected&&e.push({id:"reason",header:"Reason",render:e=>{let{reason:n}=e;return(0,r.jsx)(c.x,{children:n})}}),[H.Fills,H.AberrantFills].includes(a)&&e.push({id:"amount",header:"Amount",render:e=>{let{quantity:n}=e;return(0,r.jsx)(c.x,{children:T.H.formattedSize(u,n)})}},{id:"price",header:"Price",render:e=>{let{price:n}=e;return(0,r.jsx)(y.Z,{market:u,value:n})}},{id:"kind",header:"Kind",render:e=>{let{kind:n}=e;return(0,r.jsx)(c.x,{children:n&&(0,I.Y4)(n)})}},{id:"tradeTime",header:"Time",render:e=>{let{tradeTime:n}=e;return(0,r.jsx)(c.x,{children:n&&(0,L.WU)(n,"MM/dd/yyyy - HH:mm a")})},getSortableValue:e=>{let{tradeTime:n}=e;return n?(0,F.Q)(n):0}}),e},[a,u]),R=(0,i.useMemo)(()=>(null==m?void 0:m[a])||[],[m,a]),Q=(0,i.useMemo)(()=>[{title:"Avg Exec Price",value:T.H.formattedPrice({market:u,value:R.reduce((e,n)=>e+Number(n.price),0)/R.length,forceStringOutput:!0})},{title:"Total Executed",value:T.H.formattedSize(u,R.reduce((e,n)=>e+Number(n.quantity),0))},{title:"Total Cost",value:T.H.formattedVolume(R.reduce((e,n)=>e+Number(n.price)*Number(n.quantity),0))}],[R,u]);return(0,r.jsx)(g.Zb,{paddingVertical:"$3",children:(0,r.jsxs)(o.FA,{gap:"$4",children:[(0,r.jsxs)(o.sL,{gap:"$4",alignItems:"center",children:[(0,r.jsx)(c.x,{size:"xl",fontWeight:"500",children:"Orders"}),(0,r.jsx)(f.N,{options:h,value:a,onChange:s})]}),(0,r.jsxs)(o.sL,{gap:"$4",children:[(0,r.jsx)(l.i,{flex:1,columns:E,data:R,shimmerRows:4,maxHeight:350,defaultSortColumn:"tradeTime",defaultDescending:!0}),t&&_.length>=1&&(0,r.jsxs)(o.FA,{gap:"$4",flex:1,width:"100%",maxWidth:500,height:350*Math.min(R.length,10)/10,minHeight:200,borderRadius:"$md",children:[(0,r.jsx)(o.sL,{gap:"$6",children:Q.map((e,n)=>(0,r.jsxs)(o.FA,{gap:"$1.5",children:[(0,r.jsx)(c.x,{size:"xs",color:"$actionBluePressed",children:e.title}),(0,r.jsx)(c.x,{size:"xs",children:e.value})]},"stat-".concat(n).concat(e.title)))}),(0,r.jsx)(v.G7,{flex:1,children:(0,r.jsx)(p.k,{type:j.o.Lines,data:$,fills:_})})]})]})]})})};function R(e){let n,t,o,s,c,d,u,x,g,v,f,p,j,y,S;let b=(0,a.c)(30);b[0]!==e?({type:o,data:t,columns:u,error:c,filter:n,onCreate:s,refetch:d,...x}=e,b[0]=e,b[1]=n,b[2]=t,b[3]=o,b[4]=s,b[5]=c,b[6]=d,b[7]=u,b[8]=x):(n=b[1],t=b[2],o=b[3],s=b[4],c=b[5],d=b[6],u=b[7],x=b[8]);let[C,k]=(0,i.useState)(null);b[9]!==n?(v=(0,m.vc)(n),b[9]=n,b[10]=v):v=b[10];let A=v;b[11]!==t||b[12]!==A?(f=null==t?void 0:t.filter(e=>!A||e.status===A),b[11]=t,b[12]=A,b[13]=f):f=b[13],g=f;let T="You do not have any ".concat(n===m.wn.All?"":n.valueOf().toLowerCase()," ").concat(o?"".concat(o," "):"","algorithms at the moment.");return b[14]!==s||b[15]!==o||b[16]!==T?(p=s?(0,r.jsx)(h,{text:T,buttonText:"Create ".concat(o?"".concat(o," "):"","algorithm"),onCreate:s}):T,b[14]=s,b[15]=o,b[16]=T,b[17]=p):p=b[17],b[18]!==C?(j={expandedId:C,onExpandPress:k},y=e=>{let{orderId:n,order:t}=e;if(C===n){var a;return(0,r.jsx)(E,{orderId:n,marketId:Object.prototype.hasOwnProperty.call(t,"market")?null==t?void 0:null===(a=t.market)||void 0===a?void 0:a.id:void 0})}},b[18]=C,b[19]=j,b[20]=y):(j=b[19],y=b[20]),b[21]!==c||b[22]!==d||b[23]!==p||b[24]!==u||b[25]!==g||b[26]!==j||b[27]!==y||b[28]!==x?(S=(0,r.jsx)(l.i,{error:c,retry:d,emptyComponent:p,columns:u,data:g,rowProps:j,renderRowFooter:y,...x}),b[21]=c,b[22]=d,b[23]=p,b[24]=u,b[25]=g,b[26]=j,b[27]=y,b[28]=x,b[29]=S):S=b[29],S}},77271:(e,n,t)=>{t.d(n,{Y:()=>v});var r,a=t(52322),l=t(53368),i=t(30813),o=t(37288),s=t(25978),c=t(71781),d=t(51533),u=t(75084),m=t(2784);function h(){return(h=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)({}).hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e}).apply(null,arguments)}let x=function(e){return m.createElement("svg",h({xmlns:"http://www.w3.org/2000/svg",fill:"#FFF",viewBox:"0 0 20 20"},e),r||(r=m.createElement("path",{fillRule:"evenodd",d:"M15.863 18.589c-1.2.578-2.754.578-5.864.578H6.665a5.81 5.81 0 0 1-4.222-1.809 5.81 5.81 0 0 1-1.611-4.025V6.667a5.81 5.81 0 0 1 1.807-4.222A5.81 5.81 0 0 1 6.665.833H10c3.11 0 4.665 0 5.864.578a5.83 5.83 0 0 1 2.725 2.725c.577 1.2.577 2.754.577 5.864s0 4.665-.577 5.864a5.83 5.83 0 0 1-2.725 2.725M6.478 3.339a3.32 3.32 0 0 0-2.32 1.132 3.32 3.32 0 0 0-.82 2.009c-.005.075-.006.182-.006.603v5.834c0 .42.001.527.005.603a3.32 3.32 0 0 0 1.133 2.321 3.32 3.32 0 0 0 2.241.825c.9-.024 1.621-.76 1.621-1.666V5c0-.905-.722-1.642-1.621-1.666-.13 0-.187.002-.233.004m5.431 8.572a.833.833 0 0 0 1.179 1.178l2.5-2.5a.833.833 0 0 0 0-1.178l-2.5-2.5a.833.833 0 0 0-1.179 1.178L13.82 10z",clipRule:"evenodd"})))};var g=t(99539);let v=e=>{let n,t,r,m,h,v,f,p;let j=(0,l.c)(20),{type:y,filter:S,createNew:b,setFilter:C,toggleCreate:k}=e;j[0]!==k||j[1]!==b?(n=()=>k(!b),j[0]=k,j[1]=b,j[2]=n):n=j[2];let A=n,T=null!=y?y:"Overview";return j[3]!==T?(t=(0,a.jsx)(s.x,{size:"xxl",weight:"medium",children:T}),j[3]=T,j[4]=t):t=j[4],j[5]===Symbol.for("react.memo_cache_sentinel")?(r={overflow:"auto"},j[5]=r):r=j[5],j[6]===Symbol.for("react.memo_cache_sentinel")?(m=Object.entries(g.wn).map(e=>{let[n,t]=e;return{id:t,label:n}}),j[6]=m):m=j[6],j[7]!==C||j[8]!==S?(h=(0,a.jsx)(i.Kq,{flex:1,style:r,children:(0,a.jsx)(c.N,{options:m,onChange:C,value:S})}),j[7]=C,j[8]=S,j[9]=h):h=j[9],j[10]!==b||j[11]!==y||j[12]!==A?(v=!b&&(0,a.jsxs)(d.z,{variant:"blueDefault",rounded:!0,onPress:A,gap:"$2",children:[(0,a.jsxs)(d.z.Text,{children:["Create ",y?"".concat(y," algo"):"algorithm"]}),(0,a.jsx)(d.z.Icon,{size:17,children:(0,a.jsx)(u.n,{children:(0,a.jsx)(x,{})})})]}),j[10]=b,j[11]=y,j[12]=A,j[13]=v):v=j[13],j[14]!==h||j[15]!==v?(f=(0,a.jsxs)(o.sL,{gap:"$2",flex:1,children:[h,v]}),j[14]=h,j[15]=v,j[16]=f):f=j[16],j[17]!==t||j[18]!==f?(p=(0,a.jsxs)(o.sL,{alignItems:"center",gap:"$5",flexWrap:"wrap",flexShrink:1,children:[t,f]}),j[17]=t,j[18]=f,j[19]=p):p=j[19],p}},79952:(e,n,t)=>{t.d(n,{a:()=>i});var r=t(52322),a=t(53368),l=t(35958);let i=e=>{let n,t;let i=(0,a.c)(3);return i[0]===Symbol.for("react.memo_cache_sentinel")?(n={style:{right:0}},i[0]=n):n=i[0],i[1]!==e?(t=(0,r.jsx)(l.E,{viewportProps:n,padding:0,showVenue:!0,...e}),i[1]=e,i[2]=t):t=i[2],t}},45330:(e,n,t)=>{t.d(n,{J:()=>o});var r=t(52322),a=t(53368),l=t(30813),i=t(27197);function o(){let e;let n=(0,a.c)(1);return n[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,r.jsx)(l.G7,{paddingVertical:"$8",justifyContent:"center",children:(0,r.jsx)(i.$,{color:"$actionBlueDefault"})}),n[0]=e):e=n[0],e}},51837:(e,n,t)=>{t.d(n,{J4:()=>A,QB:()=>w,Te:()=>C,dO:()=>k,e6:()=>b,gE:()=>M,ji:()=>S,nE:()=>z,sP:()=>T,wc:()=>P});var r=t(52322),a=t(53368),l=t(1804),i=t(37288),o=t(48903),s=t(75262),c=t(25978),d=t(75084),u=t(99128),m=t(11460),h=t(12591),x=t(28279),g=t(3833),v=t(76541),f=t(11853),p=t(74930),j=t(70278),y=t(63789);function S(e){let n,t,l,o,d,u,m;let h=(0,a.c)(15),{kind:x,exchangeSymbol:g}=e;if(h[0]!==x){let{base:e}=v.H.getExchangeProducts({kind:x});t=f._.getIcon(null==e?void 0:e.name),n=f._.getFormattedName(e),h[0]=x,h[1]=n,h[2]=t}else n=h[1],t=h[2];let p=n;return h[3]!==t?(l=(0,r.jsx)(s.q,{size:26,src:t}),h[3]=t,h[4]=l):l=h[4],h[5]!==p?(o=(0,r.jsx)(c.x,{weight:"medium",size:"l",children:p}),h[5]=p,h[6]=o):o=h[6],h[7]!==g?(d=(0,r.jsx)(c.x,{color:"$textSubdued",size:"s",children:g}),h[7]=g,h[8]=d):d=h[8],h[9]!==o||h[10]!==d?(u=(0,r.jsxs)(i.FA,{gap:"$1",children:[o,d]}),h[9]=o,h[10]=d,h[11]=u):u=h[11],h[12]!==l||h[13]!==u?(m=(0,r.jsxs)(i.sL,{alignItems:"center",gap:"$2",children:[l,u]}),h[12]=l,h[13]=u,h[14]=m):m=h[14],m}function b(e){let n,t,l,o,d;let u=(0,a.c)(10),{kind:m}=e;if(u[0]!==m){let{quote:e}=v.H.getExchangeProducts({kind:m});t=f._.getIcon(null==e?void 0:e.name),n=f._.getFormattedName(e),u[0]=m,u[1]=n,u[2]=t}else n=u[1],t=u[2];let h=n;return u[3]!==t?(l=(0,r.jsx)(s.q,{size:26,src:t}),u[3]=t,u[4]=l):l=u[4],u[5]!==h?(o=(0,r.jsx)(c.x,{weight:"medium",size:"l",children:h}),u[5]=h,u[6]=o):o=u[6],u[7]!==l||u[8]!==o?(d=(0,r.jsxs)(i.sL,{alignItems:"center",gap:"$2",children:[l,o]}),u[7]=l,u[8]=o,u[9]=d):d=u[9],d}function C(e){let n,t,l,o,s,u;let m=(0,a.c)(12),{venue:h}=e;m[0]!==h.name?(n=(0,g.yu)(h.name),m[0]=h.name,m[1]=n):n=m[1];let x=n;return m[2]!==x?(t=x&&(0,r.jsx)(d.n,{size:20,children:x}),m[2]=x,m[3]=t):t=m[3],m[4]!==h.name?(l=(0,r.jsx)(c.x,{weight:"medium",size:"l",children:h.name}),m[4]=h.name,m[5]=l):l=m[5],m[6]!==t||m[7]!==l?(o=(0,r.jsxs)(i.sL,{alignItems:"center",gap:"$2",children:[t,l]}),m[6]=t,m[7]=l,m[8]=o):o=m[8],m[9]===Symbol.for("react.memo_cache_sentinel")?(s=(0,r.jsx)(c.x,{color:"$textSubdued",size:"s",children:"Main Account"}),m[9]=s):s=m[9],m[10]!==o?(u=(0,r.jsxs)(i.FA,{gap:"$1",children:[o,s]}),m[10]=o,m[11]=u):u=m[11],u}function k(e){let n,t,l,o,s;let d=(0,a.c)(11),{quantity:u,dir:m}=e,h=Number(u);return d[0]!==h?(n=h.toFixed(2),d[0]=h,d[1]=n):n=d[1],d[2]!==n?(t=(0,r.jsx)(c.x,{weight:"medium",size:"l",children:n}),d[2]=n,d[3]=t):t=d[3],d[4]!==m?(l=(0,x.kC)(m),d[4]=m,d[5]=l):l=d[5],d[6]!==l?(o=(0,r.jsx)(c.x,{color:"$textSubdued",size:"s",children:l}),d[6]=l,d[7]=o):o=d[7],d[8]!==t||d[9]!==o?(s=(0,r.jsxs)(i.FA,{gap:"$1",children:[t,o]}),d[8]=t,d[9]=o,d[10]=s):s=d[10],s}function A(e){let n,t,l,o,s,d;let u=(0,a.c)(13),{realizedTwap:m,quantityFilled:h}=e;u[0]!==h?(n="string"==typeof h?parseFloat(h):h,u[0]=h,u[1]=n):n=u[1];let x=n;return u[2]!==x?(t=x.toFixed(4),u[2]=x,u[3]=t):t=u[3],u[4]!==t?(l=(0,r.jsx)(c.x,{weight:"medium",size:"l",children:t}),u[4]=t,u[5]=l):l=u[5],u[6]!==m?(o=m?Number(m).toFixed(2):"",u[6]=m,u[7]=o):o=u[7],u[8]!==o?(s=(0,r.jsx)(c.x,{color:"$textSubdued",size:"s",children:o}),u[8]=o,u[9]=s):s=u[9],u[10]!==l||u[11]!==s?(d=(0,r.jsxs)(i.FA,{gap:"$1",children:[l,s]}),u[10]=l,u[11]=s,u[12]=d):d=u[12],d}function T(e){let n,t,l,o,s,d,u,m,h;let x=(0,a.c)(18),{time:g}=e;if(x[0]!==g){let e=new Date(g);s=i.FA,d="$1",u=(0,r.jsx)(c.x,{weight:"medium",size:"l",children:e.toLocaleTimeString()}),n=c.x,t="$textSubdued",l="s",o=e.toLocaleDateString(),x[0]=g,x[1]=n,x[2]=t,x[3]=l,x[4]=o,x[5]=s,x[6]=d,x[7]=u}else n=x[1],t=x[2],l=x[3],o=x[4],s=x[5],d=x[6],u=x[7];return x[8]!==n||x[9]!==t||x[10]!==l||x[11]!==o?(m=(0,r.jsx)(n,{color:t,size:l,children:o}),x[8]=n,x[9]=t,x[10]=l,x[11]=o,x[12]=m):m=x[12],x[13]!==s||x[14]!==d||x[15]!==u||x[16]!==m?(h=(0,r.jsxs)(s,{gap:d,children:[u,m]}),x[13]=s,x[14]=d,x[15]=u,x[16]=m,x[17]=h):h=x[17],h}function w(e){let n;let t=(0,a.c)(2),{name:l}=e;return t[0]!==l?(n=(0,r.jsx)(c.x,{weight:"medium",size:"l",children:l}),t[0]=l,t[1]=n):n=t[1],n}function M(e){let n,t,l,o,s;let g=(0,a.c)(11),{status:v}=e;g[0]!==v?(n=()=>{switch(v){case j.M.Done:return(0,r.jsx)(d.n,{color:"$actionRedDefault",size:17,children:(0,r.jsx)(u.Z,{})});case j.M.Paused:return(0,r.jsx)(d.n,{color:"$actionYellowDefault",size:17,children:(0,r.jsx)(m.Z,{})});case j.M.Running:return(0,r.jsx)(d.n,{color:"$actionGreenDefault",size:17,children:(0,r.jsx)(h.Z,{})});default:return null}},g[0]=v,g[1]=n):n=g[1];let f=n;return g[2]!==f?(t=f(),g[2]=f,g[3]=t):t=g[3],g[4]!==v?(l=(0,x.kC)(v.toLowerCase()),g[4]=v,g[5]=l):l=g[5],g[6]!==l?(o=(0,r.jsx)(c.x,{weight:"medium",size:"l",children:l}),g[6]=l,g[7]=o):o=g[7],g[8]!==t||g[9]!==o?(s=(0,r.jsxs)(i.sL,{alignItems:"center",gap:"$2",children:[t,o]}),g[8]=t,g[9]=o,g[10]=s):s=g[10],s}function z(e){let n,t,l,s,d,u,m,h;let x=(0,a.c)(16),{value:g,label:v}=e;if(null===g)return null;x[0]!==g?(n=Math.min(100,t=Math.round(100*g)),x[0]=g,x[1]=n,x[2]=t):(n=x[1],t=x[2]);let f=n;return x[3]!==v?(l=(0,r.jsx)(c.x,{weight:"medium",size:"l",children:v}),x[3]=v,x[4]=l):l=x[4],x[5]!==t?(s=(0,r.jsxs)(c.x,{weight:"medium",size:"l",children:[t,"%"]}),x[5]=t,x[6]=s):s=x[6],x[7]!==l||x[8]!==s?(d=(0,r.jsxs)(i.sL,{justifyContent:"space-between",children:[l,s]}),x[7]=l,x[8]=s,x[9]=d):d=x[9],x[10]===Symbol.for("react.memo_cache_sentinel")?(u=(0,r.jsx)(o.Ex.Indicator,{animation:"medium",bg:"$textGreen"}),x[10]=u):u=x[10],x[11]!==f?(m=(0,r.jsx)(o.Ex,{backgroundColor:"$surfaceGrayDefault",value:f,minWidth:0,height:"8px",children:u}),x[11]=f,x[12]=m):m=x[12],x[13]!==d||x[14]!==m?(h=(0,r.jsxs)(i.FA,{gap:"$1.5",children:[d,m]}),x[13]=d,x[14]=m,x[15]=h):h=x[15],h}function P(e){let n,t,i,o;let s=(0,a.c)(13),{status:c,orderId:d,size:u,onExpand:m,isExpanded:h}=e,x=void 0===u?"medium":u,[g]=(0,l.D)(p.C);return s[0]!==g||s[1]!==d?(n=()=>g({variables:{orderId:d,command:j.Y.STOP},refetchQueries:["Algos"]}),t=()=>g({variables:{orderId:d,command:j.Y.PAUSE},refetchQueries:["Algos"]}),i=()=>g({variables:{orderId:d,command:j.Y.START},refetchQueries:["Algos"]}),s[0]=g,s[1]=d,s[2]=n,s[3]=t,s[4]=i):(n=s[2],t=s[3],i=s[4]),s[5]!==x||s[6]!==c||s[7]!==n||s[8]!==t||s[9]!==i||s[10]!==m||s[11]!==h?(o=(0,r.jsx)(y.C,{buttonSize:x,status:c,onStop:n,onPause:t,onStart:i,onExpand:m,isExpanded:h}),s[5]=x,s[6]=c,s[7]=n,s[8]=t,s[9]=i,s[10]=m,s[11]=h,s[12]=o):o=s[12],o}},96568:(e,n,t)=>{t.d(n,{Q:()=>r});let r=(0,t(3994).B)("\n  fragment AlgoMarketFields on Market {\n    __typename\n    id\n    name\n    exchangeSymbol\n    kind {\n      ... on ExchangeMarketKind {\n        __typename\n        base {\n          id\n          kind\n          name\n        }\n        quote {\n          id\n          kind\n          name\n        }\n      }\n      ... on PoolMarketKind {\n        __typename\n        products {\n          id\n          kind\n          name\n        }\n      }\n    }\n    venue {\n      __typename\n      id\n      name\n    }\n  }\n")},73092:(e,n,t)=>{t.d(n,{c:()=>l});var r=t(3994);let a=(0,r.B)("\n  fragment MMAlgoDecisionFields on MMAlgoDecision {\n    __typename\n    ... on MMAlgoDecisionDoNothing {\n      reasons\n    }\n    ... on MMAlgoDecisionCancel {\n      reasons\n      orderId\n    }\n    ... on MMAlgoDecisionSend {\n      price\n      quantity\n    }\n  }\n"),l=(0,r.B)("\n    fragment MMAlgoSideFields on MMAlgoSide {\n      __typename\n      lastDecision {\n        ...MMAlgoDecisionFields\n      }\n      lastOrderTime\n      lastFillTime\n      lastRejectTime\n      referencePrice\n      openOrder {\n        price\n        quantity\n      }\n    }\n  ",[a])},74930:(e,n,t)=>{t.d(n,{C:()=>r});let r=(0,t(3994).B)("\n  mutation SendAlgoControlCommand($orderId: OrderId!, $command: AlgoControlCommand!) {\n    sendAlgoControlCommand(orderId: $orderId, command: $command)\n  }\n")},43073:(e,n,t)=>{t.d(n,{N:()=>i});var r=t(3994),a=t(96568),l=t(73092);let i=(0,r.B)("\n    query MMAlgos {\n      mmAlgoStatus {\n        __typename\n        orderId\n        creationTime\n        order {\n          __typename\n          name\n          orderId\n          minPosition\n          maxPosition\n          market {\n            ...AlgoMarketFields\n          }\n          account\n        }\n        status\n        position\n        buyStatus {\n          ...MMAlgoSideFields\n        }\n        sellStatus {\n          ...MMAlgoSideFields\n        }\n        hedgePosition\n        kind\n      }\n    }\n  ",[a.Q,l.c])},96683:(e,n,t)=>{t.d(n,{v:()=>l});var r=t(3994),a=t(96568);let l=(0,r.B)("\n    query PovAlgos {\n      povStatus {\n        __typename\n        orderId\n        creationTime\n        order {\n          __typename\n          name\n          orderId\n          market {\n            ...AlgoMarketFields\n          }\n          dir\n          targetVolumeFrac\n          minOrderQuantity\n          maxQuantity\n          endTime\n          accountId\n          takeThroughFrac\n        }\n        status\n        fractionComplete\n        marketVolume\n        quantityFilled\n        realizedVolumeFrac\n      }\n    }\n  ",[a.Q])},62599:(e,n,t)=>{t.d(n,{r:()=>i});var r=t(3994),a=t(96568),l=t(73092);let i=(0,r.B)("\n    query SpreadAlgos {\n      spreadAlgoStatus {\n        __typename\n        orderId\n        creationTime\n        order {\n          __typename\n          name\n          orderId\n          minPosition\n          maxPosition\n          market {\n            ...AlgoMarketFields\n          }\n          account\n          hedgeMarket {\n            market\n            conversionRatio\n            premium\n            hedgeFrac\n          }\n        }\n        status\n        position\n        hedgePosition\n        buyStatus {\n          ...MMAlgoSideFields\n        }\n        sellStatus {\n          ...MMAlgoSideFields\n        }\n      }\n    }\n  ",[a.Q,l.c])},84212:(e,n,t)=>{t.d(n,{Z:()=>l});var r=t(3994),a=t(96568);let l=(0,r.B)("\n    query Twaps {\n      twapStatus {\n        __typename\n        orderId\n        creationTime\n        order {\n          __typename\n          name\n          orderId\n          market {\n            ...AlgoMarketFields\n          }\n          dir\n          quantity\n          endTime\n          accountId\n          takeThroughFrac\n          intervalMs\n          rejectLockoutMs\n        }\n        status\n        fractionComplete\n        quantityFilled\n        realizedTwap\n      }\n    }\n  ",[a.Q])},70278:(e,n,t)=>{t.d(n,{M:()=>r,Y:()=>a});let r=function(e){return e.Running="RUNNING",e.Paused="PAUSED",e.Done="DONE",e}({}),a=function(e){return e.START="START",e.PAUSE="PAUSE",e.STOP="STOP",e}({})},99539:(e,n,t)=>{t.d(n,{Ao:()=>l,Xf:()=>s,vc:()=>o,wn:()=>i});var r=t(34988),a=t(70278);let{useParam:l}=(0,r.X)(),i=function(e){return e.All="all",e.Completed="completed",e.Running="running",e.Paused="paused",e}({});function o(e){switch(e){case i.Completed:return a.M.Done;case i.Running:return a.M.Running;case i.Paused:return a.M.Paused;default:return null}}function s(e){switch(e){case i.Completed:return i.Completed;case i.Running:return i.Running;case i.Paused:return i.Paused;default:return i.All}}Object.entries(i).map(e=>{let[n,t]=e;return{id:t,label:n}})},18321:(e,n,t)=>{t.d(n,{f:()=>f});var r,a,l=t(52322),i=t(53368),o=t(1804),s=t(75084),c=t(29006),d=t(2784);function u(){return(u=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)({}).hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e}).apply(null,arguments)}let m=function(e){return d.createElement("svg",u({xmlns:"http://www.w3.org/2000/svg",fill:"#FFF",viewBox:"0 0 24 24"},e),r||(r=d.createElement("path",{d:"M13.345 2.466c-.55-1.115-2.14-1.115-2.69 0l-2.41 4.88-5.388.788c-1.23.18-1.72 1.692-.83 2.559l3.898 3.796-.92 5.363c-.21 1.226 1.077 2.16 2.177 1.581L12 18.9l4.818 2.534c1.1.578 2.387-.356 2.176-1.582l-.92-5.363 3.898-3.796c.89-.867.4-2.38-.83-2.559l-5.388-.788z"})))};function h(){return(h=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)({}).hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e}).apply(null,arguments)}let x=function(e){return d.createElement("svg",h({xmlns:"http://www.w3.org/2000/svg",fill:"#FFF",viewBox:"0 0 24 24"},e),a||(a=d.createElement("path",{fillRule:"evenodd",d:"M10.655 2.466c.55-1.115 2.14-1.115 2.69 0l2.41 4.88 5.388.788c1.23.18 1.72 1.692.83 2.559l-3.899 3.796.92 5.363c.21 1.226-1.076 2.16-2.176 1.581L12 18.9l-4.818 2.534c-1.1.578-2.387-.356-2.176-1.582l.92-5.363-3.898-3.796c-.89-.867-.4-2.38.83-2.559l5.388-.788zM12 4.259 9.807 8.703a1 1 0 0 1-.752.546l-4.907.718 3.55 3.457a1 1 0 0 1 .288.885l-.838 4.883 4.387-2.307a1 1 0 0 1 .93 0l4.387 2.307-.838-4.883a1 1 0 0 1 .288-.885l3.55-3.457-4.907-.718a1 1 0 0 1-.752-.546z",clipRule:"evenodd"})))},g=(0,t(3994).B)("\n  mutation UpdateMarket($payload: UpdateMarket!) {\n    updateMarket(payload: $payload) {\n      id\n      isFavorite\n    }\n  }\n");var v=t(24015);function f(e){let n,t,r,a,d;let u=(0,i.c)(14),{id:h,isFavorite:f}=e;u[0]===Symbol.for("react.memo_cache_sentinel")?(n={refetchQueries:[v.R_]},u[0]=n):n=u[0];let[p,j]=(0,o.D)(g,n),{loading:y}=j;u[1]!==p||u[2]!==h||u[3]!==f?(t=()=>{p({variables:{payload:{marketId:h,isFavorite:!f}}})},u[1]=p,u[2]=h,u[3]=f,u[4]=t):t=u[4];let S=f?"$yellow5":"$iconDefault";return u[5]!==f?(r=f?(0,l.jsx)(m,{}):(0,l.jsx)(x,{}),u[5]=f,u[6]=r):r=u[6],u[7]!==S||u[8]!==r?(a=(0,l.jsx)(s.n,{size:15,color:S,children:r}),u[7]=S,u[8]=r,u[9]=a):a=u[9],u[10]!==t||u[11]!==y||u[12]!==a?(d=(0,l.jsx)(c.h,{onPress:t,justifyContent:"center",alignItems:"center",padding:"$1.5",disabled:y,children:a}),u[10]=t,u[11]=y,u[12]=a,u[13]=d):d=u[13],d}},89364:(e,n,t)=>{t.d(n,{k:()=>c});var r=t(52322),a=t(53368),l=t(37288),i=t(75262),o=t(25978),s=t(76541);function c(e){let n,t,c,d,u;let m=(0,a.c)(11);m[0]!==e?(n=s.H.getIcons(e),m[0]=e,m[1]=n):n=m[1];let h=n;return m[2]!==h?(t=h&&(0,r.jsx)(i.J,{horizontal:!0,size:20,src:h}),m[2]=h,m[3]=t):t=m[3],m[4]!==e?(c=s.H.getFormattedName(e),m[4]=e,m[5]=c):c=m[5],m[6]!==c?(d=(0,r.jsx)(o.x,{numberOfLines:1,children:c}),m[6]=c,m[7]=d):d=m[7],m[8]!==t||m[9]!==d?(u=(0,r.jsxs)(l.sL,{alignItems:"center",gap:"$2",children:[t,d]}),m[8]=t,m[9]=d,m[10]=u):u=m[10],u}},99950:(e,n,t)=>{t.d(n,{e:()=>g});var r=t(52322),a=t(85697),l=t(37288),i=t(27197),o=t(75084),s=t(25978),c=t(13731),d=t(30872),u=t(33794),m=t(50743),h=t(50404),x=t(2784);function g(e){let{route:n,venue:t,accountId:g,setAccountId:v,error:f}=e,{data:p,loading:j,error:y}=(0,a.a)(m.q6),S=(0,x.useMemo)(()=>{var e,r,a;let l=(null==t?void 0:t.name)&&h.l_.has(t.name),i=(null!==(a=null==p?void 0:null===(e=p.accounts.filter(e=>{var n;let{venue:r}=e;return(null==r?void 0:r.id)===(null==t?void 0:t.id)||l&&h.HM.has(null!==(n=null==r?void 0:r.name)&&void 0!==n?n:"")}))||void 0===e?void 0:e.length)&&void 0!==a?a:0)>1,o=null==p?void 0:null===(r=p.accounts)||void 0===r?void 0:r.filter(e=>{var n;let{venue:r}=e;return(null==r?void 0:r.id)===(null==t?void 0:t.id)||l&&h.HM.has(null!==(n=null==r?void 0:r.name)&&void 0!==n?n:"")}).map(e=>{let{id:n,name:t}=e,[r,a]=t.split(":");return{id:n,label:i?"".concat(r," (").concat(a,")"):"".concat(r)}});return!n||"CQG"===n||(null==o?void 0:o.length)?null!=o?o:[]:[{id:"DEFAULT",label:"Default"}]},[null==p?void 0:p.accounts,n,t]);return((0,x.useEffect)(()=>{!g&&(null==S?void 0:S[0])&&v(S[0].id)},[g,S,v]),t&&n&&(null==S?void 0:S.length)===0)?(0,r.jsxs)(l.sL,{backgroundColor:"$surfaceRedDefault",alignItems:"center",paddingHorizontal:"$3",gap:"$3",borderRadius:40,height:40,children:[(0,r.jsx)(o.n,{color:"$textRed",size:15,children:(0,r.jsx)(u.Z,{})}),(0,r.jsx)(s.x,{color:"$textRed",size:"l",weight:"medium",children:"No accounts for venue"})]}):(0,r.jsx)(c.H5,{editable:!1,label:"Account",error:f,endAdornment:j?(0,r.jsx)(i.$,{}):y?(0,r.jsx)(o.n,{color:"$textRed",size:15,children:(0,r.jsx)(u.Z,{})}):(0,r.jsx)(d.P,{options:S,value:null!=g?g:"",onChange:v,padding:0})})}},75326:(e,n,t)=>{t.d(n,{W:()=>f});var r=t(52322),a=t(37288),l=t(55150),i=t(27197),o=t(49689),s=t(25978),c=t(15357),d=t(51533),u=t(75084),m=t(72370),h=t(28279),x=t(26197),g=t(3784),v=t(2784);function f(e){let{containerWidth:n=480,containerProps:t,orderType:f,values:p,callback:j,onOpenChange:y,onConfirm:S}=e,b=!!p&&!!j,[C,k]=(0,v.useState)(!1),[A,T]=(0,v.useState)(!1),[w,M]=(0,v.useState)(null);(0,v.useEffect)(()=>{(0,h.nY)("enableOverlay",b)},[b]);let z=f&&(0,x.On)(f),P=f?(0,g.yD)(f):"",F=A?"".concat(P," ").concat(z?"Algo Started":"Order Created"):C?"".concat(z?"Starting":"Creating"," ").concat(P," ").concat(z?"Algo":"Order"):"Confirm ".concat(P," ").concat(z?"Algo":"Order");return(0,r.jsx)(o.J,{open:b,onOpenChange:y,trigger:(0,r.jsx)(r.Fragment,{}),contentProps:{width:"calc(".concat(n,"px + 36px)"),marginTop:-40,enterStyle:{y:0,opacity:0},exitStyle:{y:0,opacity:0},...t},children:p&&j?(0,r.jsxs)(a.FA,{gap:"$4",children:[(0,r.jsx)(s.x,{size:"xxl",weight:"medium",children:F}),(0,r.jsx)(l.Z,{borderColor:"$borderDefault"}),w&&(0,r.jsx)(c.c,{type:"error",children:"Error: ".concat(w.message)}),(0,r.jsx)(a.FA,{gap:"$2.5",children:Object.entries(p).filter(e=>{let[n,t]=e;return"string"==typeof t||"number"==typeof t||"object"==typeof t}).map(e=>{let[n,t]=e;return(0,r.jsxs)(a.sL,{justifyContent:"space-between",alignItems:"center",children:[(0,r.jsx)(s.x,{color:"$textSubdued",children:n}),(0,r.jsx)(s.x,{weight:"bold",children:t})]},n)})}),(0,r.jsxs)(a.sL,{gap:"$2",children:[!A&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(d.z,{variant:"gray",onPress:()=>y(!1),disabled:C,flex:1,rounded:!0,children:(0,r.jsx)(d.z.Text,{children:"Cancel"})}),(0,r.jsx)(d.z,{variant:"blueDefault",onPress:async()=>{k(!0),null==S||S();try{await j(),T(!0)}catch(e){M(e)}finally{k(!1)}},flex:1,rounded:!0,children:C?(0,r.jsx)(d.z.Icon,{children:(0,r.jsx)(i.$,{})}):(0,r.jsx)(d.z.Text,{children:"Confirm"})})]}),A&&(0,r.jsxs)(d.z,{variant:"blueDefault",onPress:()=>{y(!1),k(!1),T(!1),M(null)},flex:1,rounded:!0,children:[(0,r.jsx)(d.z.Icon,{children:(0,r.jsx)(u.n,{children:(0,r.jsx)(m.Z,{})})}),(0,r.jsx)(d.z.Text,{children:"Done"})]})]})]}):null})}},50743:(e,n,t)=>{t.d(n,{d5:()=>g,dK:()=>v,q6:()=>m});var r=t(52322),a=t(53368),l=t(85697),i=t(3842),o=t(51533),s=t(84214),c=t(25978),d=t(3994),u=t(28240);let m=(0,d.B)("\n  query GetAccounts {\n    accounts {\n      id\n      name\n      venue {\n        id\n        name\n      }\n    }\n  }\n"),h=(0,d.B)("\n  query ReloadAccounts {\n    accounts(reloadCache: true) {\n      id\n    }\n  }\n"),x=[{id:"id",header:"ID",render:e=>{let{id:n}=e;return(0,r.jsx)(c.x,{children:n})}},{id:"name",header:"Name",render:e=>{let{name:n}=e;return(0,r.jsx)(c.x,{children:n})}},{id:"venue",header:"Venue",render:e=>{var n;let{venue:t}=e;return(0,r.jsx)(c.x,{children:null!==(n=null==t?void 0:t.name)&&void 0!==n?n:""})}}];function g(){let e,n;let t=(0,a.c)(6),{error:i,refetch:o,data:c}=(0,l.a)(m);return t[0]!==c?(e=c?c.accounts:[],t[0]=c,t[1]=e):e=t[1],t[2]!==i||t[3]!==o||t[4]!==e?(n=(0,r.jsx)(s.i,{error:i,retry:o,emptyComponent:"You don't have any existing API keys",columns:x,shimmerRows:3,data:e,maxHeight:400,defaultSortColumn:"name"}),t[2]=i,t[3]=o,t[4]=e,t[5]=n):n=t[5],n}function v(e){let n,t,l;let s=(0,a.c)(7),c=(0,u.z)(),d=(0,i.t)(h);return s[0]!==d||s[1]!==c?(n=async()=>{try{await d,c.pushNotification({id:"reload-accounts",title:"Success",text:"Accounts reloaded successfully"})}catch(e){c.pushNotification({id:"reload-accounts",title:"Error",text:"Error reloading accounts: ".concat(e)})}},s[0]=d,s[1]=c,s[2]=n):n=s[2],s[3]===Symbol.for("react.memo_cache_sentinel")?(t=(0,r.jsx)(o.z.Text,{children:"Reload Accounts"}),s[3]=t):t=s[3],s[4]!==n||s[5]!==e?(l=(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(o.z,{variant:"blueDefault",rounded:!0,onPress:n,...e,children:t})}),s[4]=n,s[5]=e,s[6]=l):l=s[6],l}},26197:(e,n,t)=>{t.d(n,{On:()=>l,SH:()=>a,mr:()=>r,sN:()=>i});let r=function(e){return e.Market="MARKET",e.Limit="LIMIT",e.StopLossLimit="STOP_LOSS_LIMIT",e.TakeProfitLimit="TAKE_PROFIT_LIMIT",e.Ladder="LADDER",e}({}),a=function(e){return e.TWAP="TWAP",e.MM="MM",e.SPREAD="SPREAD",e.POV="POV",e.SOR="SOR",e.RFQ="RFQ",e}({}),l=e=>!!e&&Object.keys(a).includes(e.valueOf()),i=function(e){return e.GTC="GTC",e.GTD="GTD",e.IOC="IOC",e}({});var o=function(e){return e.NORMAL="NORMAL",e.REVERSAL="REVERSAL",e.CORRECTION="CORRECTION",e}(o||{})},96049:(e,n,t)=>{t.d(n,{E:()=>i});var r=t(7837),a=t(48096),l=t(74811);let i=async(e,n)=>{var t,i,o,s;let{id:c,start:d,end:u,width:m}=n,h=await e.query({query:r.l,variables:{id:c,start:d.toISOString(),end:u.toISOString(),width:m},errorPolicy:"all"});if(!(null==h?void 0:null===(t=h.data)||void 0===t?void 0:t.historicalCandles))return[];let x=(null===(s=h.data)||void 0===s?void 0:null===(o=s.historicalCandles)||void 0===o?void 0:null===(i=o.map(e=>({time:(0,a.Q)(e.time),open:Number(e.open),high:Number(e.high),low:Number(e.low),close:Number(e.close),volume:Number(e.volume)})))||void 0===i?void 0:i.sort((e,n)=>e.time-n.time))||[];return x.length<=1?[]:(0,l.Tw)(x,e=>{let{time:n}=e;return n})}},3784:(e,n,t)=>{t.d(n,{IX:()=>u,mL:()=>m,yD:()=>d});var r=t(28279),a=t(26197),l=t(65124),i=t(89015),o=t(76541),s=t(11853),c=t(50404);function d(e){switch(e){case a.mr.Market:return"Market";case a.mr.Limit:return"Limit";case a.mr.StopLossLimit:return"Stop Loss Limit";case a.mr.TakeProfitLimit:return"Take Profit Limit";case a.mr.Ladder:return"Ladder";default:return e.valueOf()}}function u(e,n){let{base:t}=o.H.getExchangeProducts(n),d=s._.getFormattedName(t),{price:u,direction:m,triggerPrice:h,size:x,postOnly:g,goodTillDate:v,timeInForce:f,quoteId:p}=e,j=Number(null==n?void 0:n.initialMargin)*Number(x),y=(null==n?void 0:n.venue.name)&&c.l_.has(null==n?void 0:n.venue.name),S=Number(x)?j:null==n?void 0:n.initialMargin,b={Side:(0,r.kC)(m),Amount:"".concat(o.H.formattedSize(n,x)," ").concat(d),Price:"".concat(o.H.formattedPrice({market:n,value:u,includeQuote:!0,forceStringOutput:!0})),...h?{"Trigger Price":"".concat(o.H.formattedPrice({market:n,value:h,includeQuote:!0,forceStringOutput:!0}))}:{},...v&&f===a.sN.GTD?{"Good Till Date":(0,l.WU)(v,"MM/dd/yyyy - HH:mm a")}:{},...f?{"Time In Force":f.valueOf()}:{},...g?{"Post Only":(0,r.kC)("".concat(g))}:{},...p?{"Quote ID":p}:{},[y?"Estimated Value":"Estimated Cost"]:"".concat(o.H.formattedPrice({market:n,value:(0,r.He)(x)*(0,r.He)(u)*(0,r.He)(null==t?void 0:t.multiplier),includeQuote:!0,forceStringOutput:!0}))};return y&&(b["Total margin"]="".concat((0,i.xG)((0,r.He)(S)))),b}function m(e,n){return!n||[a.SH.TWAP,a.SH.POV].includes(e)}},6679:(e,n,t)=>{t.d(n,{x:()=>c});var r=t(52322),a=t(53368),l=t(65124),i=t(2784),o=t(47401),s=t(13731);let c=e=>{let n,t,c,d,u,m,h,x,g;let v=(0,a.c)(20),{label:f,value:p,setValue:j}=e,y=void 0===f?"Time":f,S=(0,i.useRef)(null);v[0]!==p?(n=p?(0,l.WU)(p,"yyyy-MM-dd'T'HH:mm"):"",v[0]=p,v[1]=n):n=v[1];let b=n;return v[2]===Symbol.for("react.memo_cache_sentinel")?(t=()=>{var e;return null===(e=S.current)||void 0===e?void 0:e.showPicker()},v[2]=t):t=v[2],v[3]!==j?(c=e=>j(new Date(e.target.value)),v[3]=j,v[4]=c):c=v[4],v[5]===Symbol.for("react.memo_cache_sentinel")?(d={opacity:0,position:"absolute"},v[5]=d):d=v[5],v[6]!==S||v[7]!==b||v[8]!==c?(u=(0,r.jsx)("input",{ref:S,type:"datetime-local",value:b,onChange:c,style:d}),v[6]=S,v[7]=b,v[8]=c,v[9]=u):u=v[9],v[10]===Symbol.for("react.memo_cache_sentinel")?(m={flex:1,pointerEvents:"none"},v[10]=m):m=v[10],v[11]!==p?(h=p?(0,l.WU)(p,"MM/dd/yyyy HH:mm a"):"",v[11]=p,v[12]=h):h=v[12],v[13]!==y||v[14]!==h?(x=(0,r.jsx)(s.H5,{containerProps:m,label:y,value:h,disabled:!0}),v[13]=y,v[14]=h,v[15]=x):x=v[15],v[16]!==t||v[17]!==u||v[18]!==x?(g=(0,r.jsxs)(o.zx,{unstyled:!0,onPress:t,children:[u,x]}),v[16]=t,v[17]=u,v[18]=x,v[19]=g):g=v[19],g}},45941:(e,n,t)=>{t.d(n,{o:()=>i});var r=t(52322),a=t(53368),l=t(30813);let i=e=>{let n,t,i,o,s;let c=(0,a.c)(10);c[0]!==e?({size:n,marginHorizontal:t,color:i,...o}=e,c[0]=e,c[1]=n,c[2]=t,c[3]=i,c[4]=o):(n=c[1],t=c[2],i=c[3],o=c[4]);let d=void 0===n?3:n,u=void 0===t?"$1.5":t,m=void 0===i?"$textDefault":i;return c[5]!==u||c[6]!==d||c[7]!==m||c[8]!==o?(s=(0,r.jsx)(l.Kq,{marginHorizontal:u,width:d,height:d,borderRadius:d,backgroundColor:m,...o}),c[5]=u,c[6]=d,c[7]=m,c[8]=o,c[9]=s):s=c[9],s}},90802:(e,n,t)=>{t.d(n,{c:()=>g});var r,a=t(52322),l=t(53368),i=t(2784),o=t(37288),s=t(30813),c=t(72370);function d(){return(d=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)({}).hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e}).apply(null,arguments)}let u=function(e){return i.createElement("svg",d({xmlns:"http://www.w3.org/2000/svg",width:13,height:16,fill:"none"},e),r||(r=i.createElement("path",{fill:"#89909A",d:"M9.67.667H.335v10.666h1.333V2h8zm-.667 2.666 4 4v8h-10v-12zM8.336 8h3.667L8.336 4.333z"})))};var m=t(29006),h=t(75084),x=t(25978);let g=(0,i.memo)(function(e){let n,t,r,d,g,v,f;let p=(0,l.c)(27),{vertical:j,label:y,value:S,valueColor:b,endAdornment:C,size:k,copyable:A}=e,T=void 0===b?"$textDefault":b,w=void 0===k?"m":k,[M,z]=(0,i.useState)(!1);p[0]!==S?(n=()=>{S&&(navigator.clipboard.writeText(S),z(!0),setTimeout(()=>z(!1),1500))},p[0]=S,p[1]=n):n=p[1];let P=n,F=j?"column":"row",L=j?"flex-start":"center",I=j?"$2":"$4";p[2]!==y||p[3]!==w?(t=y&&(0,a.jsx)(x.x,{style:{textWrap:"nowrap"},color:"$textSubdued",size:w,children:y}),p[2]=y,p[3]=w,p[4]=t):t=p[4];let O=!S;return p[5]!==O||p[6]!==w||p[7]!==T||p[8]!==S?(r=(0,a.jsx)(x.x,{flex:1,numberOfLines:1,shimmer:O,weight:"medium",size:w,color:T,textAlign:"right",children:S}),p[5]=O,p[6]=w,p[7]=T,p[8]=S,p[9]=r):r=p[9],p[10]!==C||p[11]!==w?(d="string"==typeof C||"number"==typeof C?(0,a.jsx)(x.x,{color:"$textSubdued",weight:"medium",size:w,children:C}):C,p[10]=C,p[11]=w,p[12]=d):d=p[12],p[13]!==A||p[14]!==M||p[15]!==P?(g=A&&(0,a.jsx)(m.h,{disabled:M,onPress:P,children:(0,a.jsx)(h.n,{size:16,color:"$iconDefault",children:M?(0,a.jsx)(c.Z,{}):(0,a.jsx)(u,{})})}),p[13]=A,p[14]=M,p[15]=P,p[16]=g):g=p[16],p[17]!==r||p[18]!==d||p[19]!==g?(v=(0,a.jsxs)(o.sL,{alignItems:"center",gap:"$2",flexShrink:1,children:[r,d,g]}),p[17]=r,p[18]=d,p[19]=g,p[20]=v):v=p[20],p[21]!==F||p[22]!==L||p[23]!==I||p[24]!==t||p[25]!==v?(f=(0,a.jsxs)(s.Kq,{flexDirection:F,alignItems:L,justifyContent:"space-between",gap:I,children:[t,v]}),p[21]=F,p[22]=L,p[23]=I,p[24]=t,p[25]=v,p[26]=f):f=p[26],f})},2958:(e,n,t)=>{t.d(n,{k:()=>f});var r=t(52322),a=t(53368),l=t(47246),i=t(30813),o=t(54982),s=t(2784),c=t(27197),d=t(28279),u=t(33295),m=t(7008),h=t(55349),x=t(18603);let g=e=>({time:e.time,value:e.close}),v=(e,n)=>{let t=n.map(e=>e.time.valueOf());return Object.values(e.reduce((e,n)=>{let r=t.findIndex((e,r)=>{let a=t[r+1];return a?(0,m.A)(n.tradeTime,e)&&(0,h.R)(n.tradeTime,a):-1});return -1===r||r===t.length-1||(e["".concat(n.dir,":").concat(r)]=n),e},{})).sort((e,n)=>(0,x.U)(e.tradeTime,n.tradeTime))},f=e=>{let n,t,m,h,x,f,p,j,y,S,b,C,k,A,T,w,M,z;let P=(0,a.c)(63),{type:F,data:L,latest:I,fills:O,onFetchMore:$,tickSize:_}=e,D=void 0===_?.01:_,H=(0,l.Fg)(),E=(0,s.useRef)(null),R=(0,s.useRef)(!1),[Q,B]=(0,s.useState)(),[V,q]=(0,s.useState)(),[N,G]=(0,s.useState)(),W=!!(null==V?void 0:V.data().length)||!!(null==N?void 0:N.data().length);P[0]!==D?(t=(0,d.p8)(D),P[0]=D,P[1]=t):t=P[1],P[2]!==t||P[3]!==D?(m={type:"price",precision:t,minMove:D},P[2]=t,P[3]=D,P[4]=m):m=P[4],n=m;e:{let e;if(!(null==O?void 0:O.length)){let e;P[5]===Symbol.for("react.memo_cache_sentinel")?(e=[],P[5]=e):e=P[5],h=e;break e}if(P[6]!==O||P[7]!==L||P[8]!==H.textGreen.val||P[9]!==H.textRed.val){let n;P[11]!==H.textGreen.val||P[12]!==H.textRed.val?(n=e=>({time:e.tradeTime,position:"buy"===e.dir?"belowBar":"aboveBar",color:"buy"===e.dir?H.textGreen.val:H.textRed.val,shape:"buy"===e.dir?"arrowUp":"arrowDown"}),P[11]=H.textGreen.val,P[12]=H.textRed.val,P[13]=n):n=P[13],e=v(O,L).map(n),P[6]=O,P[7]=L,P[8]=H.textGreen.val,P[9]=H.textRed.val,P[10]=e}else e=P[10];h=e}let U=h;P[14]!==$?(x=e=>{let n=null==e?void 0:e.from.valueOf();n&&n<0&&(null==$||$())},P[14]=$,P[15]=x):x=P[15];let Z=x;P[16]!==Q?(f=()=>{null==Q||Q.applyOptions({width:E.current.clientWidth})},P[16]=Q,P[17]=f):f=P[17];let J=f;return P[18]!==Q||P[19]!==H.textSubdued.val||P[20]!==H.surfaceGrayCard.val||P[21]!==Z?(p=()=>{if(E.current)return Q?Q.applyOptions({layout:{textColor:H.textSubdued.val,background:{type:o.Mr.Solid,color:H.surfaceGrayCard.val}}}):B((0,o.C2)(E.current,{layout:{textColor:H.textSubdued.val,background:{type:o.Mr.Solid,color:H.surfaceGrayCard.val}},rightPriceScale:{visible:!0},timeScale:{visible:!0,timeVisible:!0,secondsVisible:!0},grid:{vertLines:{visible:!1},horzLines:{visible:!1}}})),null==Q||Q.timeScale().subscribeVisibleLogicalRangeChange(Z),()=>null==Q?void 0:Q.timeScale().unsubscribeVisibleLogicalRangeChange(Z)},P[18]=Q,P[19]=H.textSubdued.val,P[20]=H.surfaceGrayCard.val,P[21]=Z,P[22]=p):p=P[22],P[23]!==H||P[24]!==Q||P[25]!==Z?(j=[H,Q,Z],P[23]=H,P[24]=Q,P[25]=Z,P[26]=j):j=P[26],(0,s.useEffect)(p,j),P[27]!==Q||P[28]!==V||P[29]!==H.textGreen.val||P[30]!==H.textRed.val||P[31]!==H.textBlue.val||P[32]!==n||P[33]!==N?(y=()=>{Q&&(V||q(Q.addCandlestickSeries({upColor:H.textGreen.val,downColor:H.textRed.val,borderDownColor:H.textRed.val,borderUpColor:H.textGreen.val,wickDownColor:H.textRed.val,wickUpColor:H.textGreen.val,priceFormat:n})),N||G(Q.addLineSeries({color:H.textBlue.val,priceFormat:n})))},P[27]=Q,P[28]=V,P[29]=H.textGreen.val,P[30]=H.textRed.val,P[31]=H.textBlue.val,P[32]=n,P[33]=N,P[34]=y):y=P[34],P[35]!==H||P[36]!==n||P[37]!==Q||P[38]!==V||P[39]!==N?(S=[H,n,Q,V,N],P[35]=H,P[36]=n,P[37]=Q,P[38]=V,P[39]=N,P[40]=S):S=P[40],(0,s.useEffect)(y,S),P[41]!==J?(b=()=>(window.addEventListener("resize",J),()=>window.removeEventListener("resize",J)),C=[J],P[41]=J,P[42]=b,P[43]=C):(b=P[42],C=P[43]),(0,s.useEffect)(b,C),P[44]!==Q||P[45]!==L||P[46]!==F||P[47]!==N||P[48]!==V||P[49]!==U?(k=()=>{if(Q&&L.length){switch(F){case u.o.Candles:null==N||N.setData([]),null==N||N.setMarkers([]),null==V||V.setData(L),null==V||V.setMarkers(U);break;case u.o.Lines:null==V||V.setData([]),null==V||V.setMarkers([]),null==N||N.setData(L.map(g)),null==N||N.setMarkers(U)}R.current||(R.current=!0,Q.timeScale().fitContent(),Q.timeScale().scrollToRealTime())}},A=[Q,V,N,U,L,F],P[44]=Q,P[45]=L,P[46]=F,P[47]=N,P[48]=V,P[49]=U,P[50]=k,P[51]=A):(k=P[50],A=P[51]),(0,s.useEffect)(k,A),P[52]!==I||P[53]!==F||P[54]!==V||P[55]!==N?(T=()=>{var e,n,t;if(!I)return;let r=null===(t=F===u.o.Candles?V:N)||void 0===t?void 0:null===(n=t.data().at(-1))||void 0===n?void 0:null===(e=n.time)||void 0===e?void 0:e.valueOf();if(!(!r||I.time.valueOf()<r))switch(F){case u.o.Candles:null==V||V.update(I);break;case u.o.Lines:null==N||N.update(g(I))}},w=[I,F,V,N],P[52]=I,P[53]=F,P[54]=V,P[55]=N,P[56]=T,P[57]=w):(T=P[56],w=P[57]),(0,s.useEffect)(T,w),P[58]!==W?(M=!W&&(0,r.jsx)(c.$,{style:{position:"absolute",zIndex:10}}),P[58]=W,P[59]=M):M=P[59],P[60]!==E||P[61]!==M?(z=(0,r.jsx)(i.Kq,{ref:E,width:"100%",height:"100%",justifyContent:"center",alignItems:"center",children:M}),P[60]=E,P[61]=M,P[62]=z):z=P[62],z}},33295:(e,n,t)=>{t.d(n,{o:()=>r});let r=function(e){return e.TV="TradingView",e.Lines="Lines",e.Candles="Candles",e}({})}}]);